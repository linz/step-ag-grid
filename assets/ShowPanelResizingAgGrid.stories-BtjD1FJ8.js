import{l as Pn,e as Cn,j as C,d as re,b as we,t as Le,c as ge,u as zn,a as Dn,R as Mn,o as Rn}from"./util-Do7DUC2X.js";import{r as z,R as rn,g as Nn,a as on,b as En}from"./iframe-fuNulc0f.js";import"./stateDeferredHook-Ck7kUbYx.js";import{p as kn,q as sn,o as On,r as Wn,s as Tn,u as An,v as mt,w as In,G as Ln}from"./Grid-CF0nfSDW.js";import{B as jn,C as ae,D as Pt,H as Hn,w as Bn,G as ue,b as Fn,y as qn,c as $n,d as Un,f as Gn}from"./GridWrapper-BAUk9ZaG.js";import{r as an}from"./index-BhY01m7I.js";import{b as Xn,G as Yn,a as Vn}from"./GridUpdatingContextProvider-B4NLo6bu.js";import"./client-DUEhelG0.js";import{G as Kn}from"./GridPopoverMessage-Cwnsoja0.js";import"./ActionButton-DT6uCTh5.js";import"./preload-helper-PPVm8Dsz.js";var qe={exports:{}},$e,Ct;function Jn(){if(Ct)return $e;Ct=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return $e=e,$e}var Ue,zt;function Zn(){if(zt)return Ue;zt=1;var e=Jn();function n(){}function r(){}return r.resetWarningCache=n,Ue=function(){function t(a,l,d,c,v,p){if(p!==e){var b=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw b.name="Invariant Violation",b}}t.isRequired=t;function o(){return t}var i={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:o,element:t,elementType:t,instanceOf:o,node:t,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:r,resetWarningCache:n};return i.PropTypes=i,i},Ue}var Dt;function ln(){return Dt||(Dt=1,qe.exports=Zn()()),qe.exports}function Qn(e,n){var r=Pn(e)?kn:jn;return r(e,sn(n))}function er(e,n){return On(Qn(e,n))}function tr(e,n){return e>n}function nr(e,n,r){for(var t=-1,o=e.length;++t<o;){var i=e[t],a=n(i);if(a!=null&&(l===void 0?a===a&&!Wn(a):r(a,l)))var l=a,d=i}return d}function rr(e,n){return e&&e.length?nr(e,sn(n),tr):void 0}var or="Expected a function";function ir(e,n,r){var t=!0,o=!0;if(typeof e!="function")throw new TypeError(or);return Cn(r)&&(t="leading"in r?!!r.leading:t,o="trailing"in r?!!r.trailing:o),Tn(e,n,{leading:t,maxWait:n,trailing:o})}const Mt=()=>{console.error("Missing LuiModalAsyncInstanceContext Provider")},be=z.createContext({ownerRef:{current:null},close:Mt,resolve:Mt}),Ve=({style:e,className:n,closeOnOverlayClick:r,children:t})=>{const o=z.useRef(null),{close:i}=z.useContext(be);return z.useEffect(()=>{!o.current?.open&&o.current?.showModal?.()},[]),z.useEffect(()=>{An(()=>{const a=o.current;if(!a)return;let l=a.querySelectorAll("[data-autofocus]")[0];l||(l=a.querySelectorAll("button:not([data-noautofocus]),input:not([data-noautofocus])")[0]),l&&(l.focus?.(),"select"in l&&l.select?.())},100)},[]),n?.includes("storybook")?C.jsx("div",{className:re("LuiModalAsync",n),style:e,children:t}):C.jsx("dialog",{role:"dialog",className:re("LuiModalAsync",n),style:e,ref:o,onCancel:a=>{a.preventDefault(),i()},onClick:a=>r&&a.target===a.currentTarget&&i(),children:t})};try{Ve.displayName="LuiModalAsync",Ve.__docgenInfo={description:"This creates the dialog element.",displayName:"LuiModalAsync",props:{}}}catch{}const Ke=({children:e})=>C.jsx("div",{className:"LuiModalAsync-ButtonGroup",children:e}),Rt=rn.forwardRef(function(n,r){return C.jsx(we,{...n,...n.level?{}:{level:"tertiary"},...n.autofocus?{buttonProps:{"data-autofocus":!0}}:{},ref:r,onClick:z.useContext(be).close,children:n.children})}),Nt=rn.forwardRef(function(n,r){const{resolve:t}=z.useContext(be);return C.jsx(we,{...n,...n.level?{}:{level:"primary"},...n.autofocus?{buttonProps:{"data-autofocus":!0}}:{},ref:r,onClick:o=>{n.onClick?n.onClick(o):t(n.value??"continue")},children:n.children})});try{Ke.displayName="LuiModalAsyncButtonGroup",Ke.__docgenInfo={description:"Wrapper for buttons at the bottom of model.",displayName:"LuiModalAsyncButtonGroup",props:{}}}catch{}try{Rt.displayName="LuiModalAsyncButtonDismiss",Rt.__docgenInfo={description:"Calls model close on click.",displayName:"LuiModalAsyncButtonDismiss",props:{autofocus:{defaultValue:null,description:"",name:"autofocus",required:!1,type:{name:"boolean"}}}}}catch{}try{Nt.displayName="LuiModalAsyncButtonContinue",Nt.__docgenInfo={description:"Resolves to value on click, or if onClick is specified calls onClick.",displayName:"LuiModalAsyncButtonContinue",props:{value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"unknown"}},autofocus:{defaultValue:null,description:"",name:"autofocus",required:!1,type:{name:"boolean"}}}}}catch{}const Je=({children:e})=>C.jsx("div",{className:"LuiModalAsync-content",children:e});try{Je.displayName="LuiModalAsyncContent",Je.__docgenInfo={description:`Wrapper for modal content.
Content is the scrollable area.`,displayName:"LuiModalAsyncContent",props:{}}}catch{}const Ze=z.createRef(),cn=z.createContext({showModal:async()=>{console.error("Missing LuiModalAsyncContext Provider")}}),L=[];for(let e=0;e<256;++e)L.push((e+256).toString(16).slice(1));function sr(e,n=0){return(L[e[n+0]]+L[e[n+1]]+L[e[n+2]]+L[e[n+3]]+"-"+L[e[n+4]]+L[e[n+5]]+"-"+L[e[n+6]]+L[e[n+7]]+"-"+L[e[n+8]]+L[e[n+9]]+"-"+L[e[n+10]]+L[e[n+11]]+L[e[n+12]]+L[e[n+13]]+L[e[n+14]]+L[e[n+15]]).toLowerCase()}let Ge;const ar=new Uint8Array(16);function lr(){if(!Ge){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Ge=crypto.getRandomValues.bind(crypto)}return Ge(ar)}const cr=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Et={randomUUID:cr};function dr(e,n,r){e=e||{};const t=e.random??e.rng?.()??lr();if(t.length<16)throw new Error("Random bytes length must be >= 16");return t[6]=t[6]&15|64,t[8]=t[8]&63|128,sr(t)}function dn(e,n,r){return Et.randomUUID&&!e?Et.randomUUID():dr(e)}const Qe=(e,n)=>{try{localStorage.getItem("@linzjs/windows.debugEnabled")=="true"&&console.debug(`@linzjs/windows: ${e}`,n)}catch{}},kt=({children:e})=>{const[n,r]=z.useState([]),t=z.useRef([window]);z.useEffect(()=>{const d=window.open;return window.open=(...c)=>{const v=d(...c);return c[0]||v&&t.current.push(v),v},()=>{window.open=d}},[]);const o=z.useCallback((d,c,v,p)=>{"level"in v||Qe("Show generic modal",v);const b=dn();let S;const x=new Promise(_=>{S=_;try{r(y=>[...y,{uuid:b,ownerRef:d,componentInstance:C.jsx(c,{...v,resolve:_,close:()=>_(void 0)}),resolve:_,showModalProps:p}])}catch(y){console.error(y);return}}).then(_=>(Qe("Modal resolved result =",JSON.stringify(_)),new Promise(y=>{r(f=>(setTimeout(()=>y(_),10),f.filter(u=>u.uuid!==b)))})));return x.resolve=S,x},[]),i=z.useCallback(d=>d.ownerRef===Ze||!!d.ownerRef.current?.ownerDocument.defaultView,[]),a=z.useCallback(d=>!d.closed,[]);mt(()=>{const d=n.filter(i);d.length!==n.length&&r(d),t.current=t.current.filter(c=>!c.closed),d.forEach(c=>{c.showModalProps?.polledCloseCondition?.()&&c.resolve(void 0)})},500);const l=d=>d.ownerRef==Ze?t.current.filter(a).map(c=>c.document.body):[(d.ownerRef.current?.ownerDocument??document).body];return C.jsxs(cn.Provider,{value:{showModal:o},children:[C.jsx(C.Fragment,{children:n.filter(i).map(d=>C.jsx(be.Provider,{value:{ownerRef:d.ownerRef,close:()=>d.resolve(void 0),resolve:d.resolve},children:l(d).map(c=>Le.createPortal(C.jsx(C.Fragment,{children:d.componentInstance}),c))},d.uuid))}),C.jsx(C.Fragment,{children:e})]})};try{kt.displayName="LuiModalAsyncContextProvider",kt.__docgenInfo={description:`Provides the ability to show modals using react components without needing useState boilerplate and inline dialogs.

To use:
<ol>
<li>Add this Provider somewhere in your standard providers
<pre>
<LuiModalAsyncContextProvider>
   ...children
</LuiModalAsyncContextProvider>
</pre>
</li>
<li>Add the modal return type to the element as below, and use the props resolve/close from ModalProps for results.
<pre>
export interface SomeModalProps extends ModalProps<number> {
  someProp?: number; // user props
}

export const SomeModal = ({initialState, resolve, close}: SomeModalProps): ReactElement => {
   return Modal(
      <div>
          Itsa me, I'm a modal
         <button onClick={close}>Cancel</button>
         <button onClick={()=>resolve(someProp)}>Save</button>
      </div>
   )}
}
</pre>
</li>
<li> To show the dialog and get the result...
<pre>
  // Note: modalOwnerRef is only required if you need to support popout windows
  const { showModal, modalOwnerRef  } = useShowAsyncModal();
  ...
  const showModal = () => {
    const result = await showModal(SomeModal, { someProp: 1 });
    if (!result) return; // modal cancelled
  }

  return <button onClick={showModal} ref={modalOwnerRef}>Show Modal!</button>
</pre>
</li>
</ol>`,displayName:"LuiModalAsyncContextProvider",props:{}}}catch{}const et=({icon:e,title:n,helpLink:r,onHelpClick:t,helpButtonLevel:o})=>{const{ownerRef:i}=z.useContext(be);return C.jsxs("div",{className:"LuiModalAsync-header",children:[e&&(typeof e=="string"?C.jsx(ge,{name:e,alt:"icon",size:"md",className:`LuiModalAsync-header-icon LuiModalAsync-header-icon-${e}`}):e),C.jsx("h4",{children:n}),(r||t)&&C.jsx(we,{type:"button",level:o||"plain-text","aria-label":"Help",title:"Help",className:"lui-button-icon-only",buttonProps:{"data-noautofocus":!0},onClick:r?()=>(i.current?.ownerDocument?.defaultView??window).open(r,"_blank"):t,children:C.jsx(ge,{name:"ic_help_outline",alt:"Help",size:"md",className:"LuiModalAsync-help-icon"})})]})};try{et.displayName="LuiModalAsyncHeader",et.__docgenInfo={description:"Generic modal header.",displayName:"LuiModalAsyncHeader",props:{}}}catch{}const tt=({children:e})=>C.jsx("div",{className:"LuiModalAsync-main",children:e});try{tt.displayName="LuiModalAsyncMain",tt.__docgenInfo={description:"Wraps the content and header.  This is just to match the way figma is arranged.",displayName:"LuiModalAsyncMain",props:{}}}catch{}const ur=()=>{const{showModal:e}=z.useContext(cn),n=z.useRef(document.body),r=z.useCallback((t,o,i)=>e(i?.showOnAllWindows?Ze:n,t,o,i),[e]);return z.useMemo(()=>({showModal:r,modalOwnerRef:n}),[r])},nt=e=>{switch(e){case"success":return"ic_check_circle_outline";case"info":return"ic_info_outline";case"warning":return"ic_warning_outline";case"error":return"ic_error_outline";case"progress":return"custom_progress";case"blocked":return"ic_lock_alt";case"outline":return null}},yt=e=>`__LuiModalContext_dontshowagain_${e}`,rt=e=>window.sessionStorage.setItem(yt(e),"true"),Ot=e=>window.sessionStorage.removeItem(yt(e)),ot=e=>!!window.sessionStorage.getItem(yt(e)),it=e=>{const{level:n="warning",className:r,style:t,title:o,helpLink:i,onHelpClick:a,children:l,resolve:d,closeOnOverlayClick:c,dontShowAgainSessionKey:v}=e,[p,b]=z.useState(!1),S=nt(n),x=e.buttons??[{title:n==="progress"?"Cancel":"Dismiss"}];x.length===2&&x.forEach((y,f)=>{y.level||(y.level=f===x.length-1?"primary":"secondary")});const _=()=>{v&&p&&rt(v)};return C.jsxs(Ve,{className:re("LuiModalPrefab",`LuiModalPrefab-${n}`,r),style:t,closeOnOverlayClick:c,children:[C.jsxs(tt,{children:[C.jsx(et,{title:o,icon:S==="custom_progress"?C.jsx(zn,{size:24}):S,helpLink:i,onHelpClick:a}),C.jsx(Je,{children:l}),v&&C.jsx(Dn,{className:"LuiCheckboxInput--nomargin",label:"Don't show me this again",value:"dontShowAgain",isChecked:p,onChange:y=>b(y.target.checked)})]}),C.jsx(Ke,{children:x.map((y,f)=>C.jsx(we,{level:y.level??"secondary",onClick:()=>{_(),d(y.value)},buttonProps:y.default?{"data-autofocus":!0}:void 0,children:y.title},f))})]})},Wt=()=>{const{showModal:e,modalOwnerRef:n}=ur(),r=z.useCallback(t=>{if(Qe(`Show '${t.level}' prefab-modal '${t.title}'`,t),typeof t.children=="string"){const o=t.children.split(`
`);t.children=er(o.map((i,a)=>a!==o.length-1?[i,C.jsx("br",{},a)]:i))}if(t.dontShowAgainSessionKey&&ot(t.dontShowAgainSessionKey)||t.polledCloseCondition&&t.polledCloseCondition()){const o=Promise.resolve(void 0);return o.resolve=i=>{},o}return e(it,In(t,["showOnAllWindows","polledCloseCondition"]),ae(t,["showOnAllWindows","polledCloseCondition"]))},[e]);return z.useMemo(()=>({modalOwnerRef:n,showPrefabModal:r}),[n,r])};try{nt.displayName="getIconForLevel",nt.__docgenInfo={description:"",displayName:"getIconForLevel",props:{}}}catch{}try{rt.displayName="LuiModalDontShowSessionSet",rt.__docgenInfo={description:"",displayName:"LuiModalDontShowSessionSet",props:{}}}catch{}try{Ot.displayName="LuiModalDontShowSessionRemove",Ot.__docgenInfo={description:"",displayName:"LuiModalDontShowSessionRemove",props:{}}}catch{}try{ot.displayName="LuiModalDontShowSessionCheck",ot.__docgenInfo={description:"",displayName:"LuiModalDontShowSessionCheck",props:{}}}catch{}try{it.displayName="LuiModalPrefab",it.__docgenInfo={description:"A generic template for common types of modals.",displayName:"LuiModalPrefab",props:{}}}catch{}try{Wt.displayName="useLuiModalPrefab",Wt.__docgenInfo={description:`Instantiate a generic template for common types of modals.

Usage:
const { modalOwnerRef, showPrefabModal } = useLuiModalPrefab();

return (
  <button
    ref={modalOwnerRef}
      onClick={() =>
        showPrefabModal({
          level: 'info',
          title: 'You are a fantastic person',
          children: 'Keep it up!',
        })
  }>
  Open Modal
  </button>`,displayName:"useLuiModalPrefab",props:{}}}catch{}const _e=()=>{console.error("Missing PanelContext Provider")},ee=z.createContext({openPanels:new Set,hasOpenPanel:()=>!1,openPanel:_e,closePanel:_e,bringPanelToFront:_e,dockElements:{},setDockElement:_e,nextStackPosition:()=>({x:0,y:0})}),We=({buttonText:e,uniqueId:n=e,...r})=>{const{openPanel:t,hasOpenPanel:o}=z.useContext(ee);return C.jsxs("button",{onClick:()=>t({uniqueId:n,...r}),children:["Show ",e," ",o(e)?"(Open)":""]})};try{We.displayName="OpenPanelButton",We.__docgenInfo={description:"",displayName:"OpenPanelButton",props:{}}}catch{}const Tt=({children:e})=>C.jsx("div",{children:C.jsx("div",{className:"OpenPanelIcon-horizontalGroup",children:e})}),At=({children:e})=>C.jsx("div",{children:C.jsx("div",{className:"OpenPanelIcon-verticalGroup",children:e})}),It=({iconTitle:e,icon:n,className:r,disabled:t,testId:o,uniqueId:i=e,...a})=>{const{openPanel:l,openPanels:d}=z.useContext(ee);return C.jsx("button",{type:"button",className:re(r,"lui-button lui-button-secondary lui-button-toolbar panel-button",d.has(i)&&"OpenPanelIcon-selected",t&&"OpenPanelIcon-disabled"),title:e,onClick:()=>l({uniqueId:i,...a}),disabled:t,"data-testid":o,children:C.jsx(ge,{name:n,alt:e,size:"md"})})};try{Tt.displayName="ButtonIconHorizontalGroup",Tt.__docgenInfo={description:"",displayName:"ButtonIconHorizontalGroup",props:{}}}catch{}try{At.displayName="ButtonIconVerticalGroup",At.__docgenInfo={description:"",displayName:"ButtonIconVerticalGroup",props:{}}}catch{}try{It.displayName="OpenPanelIcon",It.__docgenInfo={description:"",displayName:"OpenPanelIcon",props:{}}}catch{}const ne=()=>{console.error("Missing PanelInstanceContext Provider")},xe=z.createContext({title:"Missing PanelInstanceContext Provider: title",uniqueId:"Missing PanelInstanceContext Provider: uniqueId",panelName:"Missing PanelInstanceContext Provider: panelName",bounds:document.body,setTitle:ne,panelTogglePopout:ne,panelClose:ne,setPanelWindow:ne,bringPanelToFront:ne,dock:ne,undock:ne,docked:!1,dockId:void 0,panelPoppedOut:!1,zIndex:0});var pe={exports:{}},Xe={};function un(e){var n,r,t="";if(typeof e=="string"||typeof e=="number")t+=e;else if(typeof e=="object")if(Array.isArray(e))for(n=0;n<e.length;n++)e[n]&&(r=un(e[n]))&&(t&&(t+=" "),t+=r);else for(n in e)e[n]&&(t&&(t+=" "),t+=n);return t}function Lt(){for(var e,n,r=0,t="";r<arguments.length;)(e=arguments[r++])&&(n=un(e))&&(t&&(t+=" "),t+=n);return t}const pr=Object.freeze(Object.defineProperty({__proto__:null,clsx:Lt,default:Lt},Symbol.toStringTag,{value:"Module"})),hr=Nn(pr);var W={},J={},jt;function je(){if(jt)return J;jt=1,Object.defineProperty(J,"__esModule",{value:!0}),J.dontSetMe=o,J.findInArray=e,J.int=t,J.isFunction=n,J.isNum=r;function e(i,a){for(let l=0,d=i.length;l<d;l++)if(a.apply(a,[i[l],l,i]))return i[l]}function n(i){return typeof i=="function"||Object.prototype.toString.call(i)==="[object Function]"}function r(i){return typeof i=="number"&&!isNaN(i)}function t(i){return parseInt(i,10)}function o(i,a,l){if(i[a])return new Error("Invalid prop ".concat(a," passed to ").concat(l," - do not set this, set it on the child."))}return J}var Z={},Ht;function fr(){if(Ht)return Z;Ht=1,Object.defineProperty(Z,"__esModule",{value:!0}),Z.browserPrefixToKey=r,Z.browserPrefixToStyle=t,Z.default=void 0,Z.getPrefix=n;const e=["Moz","Webkit","O","ms"];function n(){var i;let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const l=(i=window.document)===null||i===void 0||(i=i.documentElement)===null||i===void 0?void 0:i.style;if(!l||a in l)return"";for(let d=0;d<e.length;d++)if(r(a,e[d])in l)return e[d];return""}function r(i,a){return a?"".concat(a).concat(o(i)):i}function t(i,a){return a?"-".concat(a.toLowerCase(),"-").concat(i):i}function o(i){let a="",l=!0;for(let d=0;d<i.length;d++)l?(a+=i[d].toUpperCase(),l=!1):i[d]==="-"?l=!0:a+=i[d];return a}return Z.default=n(),Z}var Bt;function vt(){if(Bt)return W;Bt=1,Object.defineProperty(W,"__esModule",{value:!0}),W.addClassName=P,W.addEvent=l,W.addUserSelectStyles=g,W.createCSSTransform=x,W.createSVGTransform=_,W.getTouch=f,W.getTouchIdentifier=u,W.getTranslation=y,W.innerHeight=p,W.innerWidth=b,W.matchesSelector=i,W.matchesSelectorAndParentsTo=a,W.offsetXYFromParent=S,W.outerHeight=c,W.outerWidth=v,W.removeClassName=D,W.removeEvent=d,W.removeUserSelectStyles=m;var e=je(),n=t(fr());function r(s){if(typeof WeakMap!="function")return null;var h=new WeakMap,w=new WeakMap;return(r=function(M){return M?w:h})(s)}function t(s,h){if(s&&s.__esModule)return s;if(s===null||typeof s!="object"&&typeof s!="function")return{default:s};var w=r(h);if(w&&w.has(s))return w.get(s);var M={},k=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var R in s)if(R!=="default"&&Object.prototype.hasOwnProperty.call(s,R)){var O=k?Object.getOwnPropertyDescriptor(s,R):null;O&&(O.get||O.set)?Object.defineProperty(M,R,O):M[R]=s[R]}return M.default=s,w&&w.set(s,M),M}let o="";function i(s,h){return o||(o=(0,e.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(w){return(0,e.isFunction)(s[w])})),(0,e.isFunction)(s[o])?s[o](h):!1}function a(s,h,w){let M=s;do{if(i(M,h))return!0;if(M===w)return!1;M=M.parentNode}while(M);return!1}function l(s,h,w,M){if(!s)return;const k={capture:!0,...M};s.addEventListener?s.addEventListener(h,w,k):s.attachEvent?s.attachEvent("on"+h,w):s["on"+h]=w}function d(s,h,w,M){if(!s)return;const k={capture:!0,...M};s.removeEventListener?s.removeEventListener(h,w,k):s.detachEvent?s.detachEvent("on"+h,w):s["on"+h]=null}function c(s){let h=s.clientHeight;const w=s.ownerDocument.defaultView.getComputedStyle(s);return h+=(0,e.int)(w.borderTopWidth),h+=(0,e.int)(w.borderBottomWidth),h}function v(s){let h=s.clientWidth;const w=s.ownerDocument.defaultView.getComputedStyle(s);return h+=(0,e.int)(w.borderLeftWidth),h+=(0,e.int)(w.borderRightWidth),h}function p(s){let h=s.clientHeight;const w=s.ownerDocument.defaultView.getComputedStyle(s);return h-=(0,e.int)(w.paddingTop),h-=(0,e.int)(w.paddingBottom),h}function b(s){let h=s.clientWidth;const w=s.ownerDocument.defaultView.getComputedStyle(s);return h-=(0,e.int)(w.paddingLeft),h-=(0,e.int)(w.paddingRight),h}function S(s,h,w){const k=h===h.ownerDocument.body?{left:0,top:0}:h.getBoundingClientRect(),R=(s.clientX+h.scrollLeft-k.left)/w,O=(s.clientY+h.scrollTop-k.top)/w;return{x:R,y:O}}function x(s,h){const w=y(s,h,"px");return{[(0,n.browserPrefixToKey)("transform",n.default)]:w}}function _(s,h){return y(s,h,"")}function y(s,h,w){let{x:M,y:k}=s,R="translate(".concat(M).concat(w,",").concat(k).concat(w,")");if(h){const O="".concat(typeof h.x=="string"?h.x:h.x+w),q="".concat(typeof h.y=="string"?h.y:h.y+w);R="translate(".concat(O,", ").concat(q,")")+R}return R}function f(s,h){return s.targetTouches&&(0,e.findInArray)(s.targetTouches,w=>h===w.identifier)||s.changedTouches&&(0,e.findInArray)(s.changedTouches,w=>h===w.identifier)}function u(s){if(s.targetTouches&&s.targetTouches[0])return s.targetTouches[0].identifier;if(s.changedTouches&&s.changedTouches[0])return s.changedTouches[0].identifier}function g(s){if(!s)return;let h=s.getElementById("react-draggable-style-el");h||(h=s.createElement("style"),h.type="text/css",h.id="react-draggable-style-el",h.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,h.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,s.getElementsByTagName("head")[0].appendChild(h)),s.body&&P(s.body,"react-draggable-transparent-selection")}function m(s){if(s)try{if(s.body&&D(s.body,"react-draggable-transparent-selection"),s.selection)s.selection.empty();else{const h=(s.defaultView||window).getSelection();h&&h.type!=="Caret"&&h.removeAllRanges()}}catch{}}function P(s,h){s.classList?s.classList.add(h):s.className.match(new RegExp("(?:^|\\s)".concat(h,"(?!\\S)")))||(s.className+=" ".concat(h))}function D(s,h){s.classList?s.classList.remove(h):s.className=s.className.replace(new RegExp("(?:^|\\s)".concat(h,"(?!\\S)"),"g"),"")}return W}var G={},Ft;function pn(){if(Ft)return G;Ft=1,Object.defineProperty(G,"__esModule",{value:!0}),G.canDragX=o,G.canDragY=i,G.createCoreData=l,G.createDraggableData=d,G.getBoundPosition=r,G.getControlPosition=a,G.snapToGrid=t;var e=je(),n=vt();function r(p,b,S){if(!p.props.bounds)return[b,S];let{bounds:x}=p.props;x=typeof x=="string"?x:c(x);const _=v(p);if(typeof x=="string"){const{ownerDocument:y}=_,f=y.defaultView;let u;if(x==="parent"?u=_.parentNode:u=y.querySelector(x),!(u instanceof f.HTMLElement))throw new Error('Bounds selector "'+x+'" could not find an element.');const g=u,m=f.getComputedStyle(_),P=f.getComputedStyle(g);x={left:-_.offsetLeft+(0,e.int)(P.paddingLeft)+(0,e.int)(m.marginLeft),top:-_.offsetTop+(0,e.int)(P.paddingTop)+(0,e.int)(m.marginTop),right:(0,n.innerWidth)(g)-(0,n.outerWidth)(_)-_.offsetLeft+(0,e.int)(P.paddingRight)-(0,e.int)(m.marginRight),bottom:(0,n.innerHeight)(g)-(0,n.outerHeight)(_)-_.offsetTop+(0,e.int)(P.paddingBottom)-(0,e.int)(m.marginBottom)}}return(0,e.isNum)(x.right)&&(b=Math.min(b,x.right)),(0,e.isNum)(x.bottom)&&(S=Math.min(S,x.bottom)),(0,e.isNum)(x.left)&&(b=Math.max(b,x.left)),(0,e.isNum)(x.top)&&(S=Math.max(S,x.top)),[b,S]}function t(p,b,S){const x=Math.round(b/p[0])*p[0],_=Math.round(S/p[1])*p[1];return[x,_]}function o(p){return p.props.axis==="both"||p.props.axis==="x"}function i(p){return p.props.axis==="both"||p.props.axis==="y"}function a(p,b,S){const x=typeof b=="number"?(0,n.getTouch)(p,b):null;if(typeof b=="number"&&!x)return null;const _=v(S),y=S.props.offsetParent||_.offsetParent||_.ownerDocument.body;return(0,n.offsetXYFromParent)(x||p,y,S.props.scale)}function l(p,b,S){const x=!(0,e.isNum)(p.lastX),_=v(p);return x?{node:_,deltaX:0,deltaY:0,lastX:b,lastY:S,x:b,y:S}:{node:_,deltaX:b-p.lastX,deltaY:S-p.lastY,lastX:p.lastX,lastY:p.lastY,x:b,y:S}}function d(p,b){const S=p.props.scale;return{node:b.node,x:p.state.x+b.deltaX/S,y:p.state.y+b.deltaY/S,deltaX:b.deltaX/S,deltaY:b.deltaY/S,lastX:p.state.x,lastY:p.state.y}}function c(p){return{left:p.left,top:p.top,right:p.right,bottom:p.bottom}}function v(p){const b=p.findDOMNode();if(!b)throw new Error("<DraggableCore>: Unmounted during event!");return b}return G}var he={},Pe={},qt;function hn(){if(qt)return Pe;qt=1,Object.defineProperty(Pe,"__esModule",{value:!0}),Pe.default=e;function e(){}return Pe}var $t;function gr(){if($t)return he;$t=1,Object.defineProperty(he,"__esModule",{value:!0}),he.default=void 0;var e=c(on()),n=l(ln()),r=l(an()),t=vt(),o=pn(),i=je(),a=l(hn());function l(y){return y&&y.__esModule?y:{default:y}}function d(y){if(typeof WeakMap!="function")return null;var f=new WeakMap,u=new WeakMap;return(d=function(g){return g?u:f})(y)}function c(y,f){if(y&&y.__esModule)return y;if(y===null||typeof y!="object"&&typeof y!="function")return{default:y};var u=d(f);if(u&&u.has(y))return u.get(y);var g={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var P in y)if(P!=="default"&&Object.prototype.hasOwnProperty.call(y,P)){var D=m?Object.getOwnPropertyDescriptor(y,P):null;D&&(D.get||D.set)?Object.defineProperty(g,P,D):g[P]=y[P]}return g.default=y,u&&u.set(y,g),g}function v(y,f,u){return f=p(f),f in y?Object.defineProperty(y,f,{value:u,enumerable:!0,configurable:!0,writable:!0}):y[f]=u,y}function p(y){var f=b(y,"string");return typeof f=="symbol"?f:String(f)}function b(y,f){if(typeof y!="object"||y===null)return y;var u=y[Symbol.toPrimitive];if(u!==void 0){var g=u.call(y,f);if(typeof g!="object")return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return(f==="string"?String:Number)(y)}const S={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let x=S.mouse,_=class extends e.Component{constructor(){super(...arguments),v(this,"dragging",!1),v(this,"lastX",NaN),v(this,"lastY",NaN),v(this,"touchIdentifier",null),v(this,"mounted",!1),v(this,"handleDragStart",f=>{if(this.props.onMouseDown(f),!this.props.allowAnyClick&&typeof f.button=="number"&&f.button!==0)return!1;const u=this.findDOMNode();if(!u||!u.ownerDocument||!u.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:g}=u;if(this.props.disabled||!(f.target instanceof g.defaultView.Node)||this.props.handle&&!(0,t.matchesSelectorAndParentsTo)(f.target,this.props.handle,u)||this.props.cancel&&(0,t.matchesSelectorAndParentsTo)(f.target,this.props.cancel,u))return;f.type==="touchstart"&&f.preventDefault();const m=(0,t.getTouchIdentifier)(f);this.touchIdentifier=m;const P=(0,o.getControlPosition)(f,m,this);if(P==null)return;const{x:D,y:s}=P,h=(0,o.createCoreData)(this,D,s);(0,a.default)("DraggableCore: handleDragStart: %j",h),(0,a.default)("calling",this.props.onStart),!(this.props.onStart(f,h)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,t.addUserSelectStyles)(g),this.dragging=!0,this.lastX=D,this.lastY=s,(0,t.addEvent)(g,x.move,this.handleDrag),(0,t.addEvent)(g,x.stop,this.handleDragStop))}),v(this,"handleDrag",f=>{const u=(0,o.getControlPosition)(f,this.touchIdentifier,this);if(u==null)return;let{x:g,y:m}=u;if(Array.isArray(this.props.grid)){let s=g-this.lastX,h=m-this.lastY;if([s,h]=(0,o.snapToGrid)(this.props.grid,s,h),!s&&!h)return;g=this.lastX+s,m=this.lastY+h}const P=(0,o.createCoreData)(this,g,m);if((0,a.default)("DraggableCore: handleDrag: %j",P),this.props.onDrag(f,P)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const h=document.createEvent("MouseEvents");h.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(h)}return}this.lastX=g,this.lastY=m}),v(this,"handleDragStop",f=>{if(!this.dragging)return;const u=(0,o.getControlPosition)(f,this.touchIdentifier,this);if(u==null)return;let{x:g,y:m}=u;if(Array.isArray(this.props.grid)){let h=g-this.lastX||0,w=m-this.lastY||0;[h,w]=(0,o.snapToGrid)(this.props.grid,h,w),g=this.lastX+h,m=this.lastY+w}const P=(0,o.createCoreData)(this,g,m);if(this.props.onStop(f,P)===!1||this.mounted===!1)return!1;const s=this.findDOMNode();s&&this.props.enableUserSelectHack&&(0,t.removeUserSelectStyles)(s.ownerDocument),(0,a.default)("DraggableCore: handleDragStop: %j",P),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,s&&((0,a.default)("DraggableCore: Removing handlers"),(0,t.removeEvent)(s.ownerDocument,x.move,this.handleDrag),(0,t.removeEvent)(s.ownerDocument,x.stop,this.handleDragStop))}),v(this,"onMouseDown",f=>(x=S.mouse,this.handleDragStart(f))),v(this,"onMouseUp",f=>(x=S.mouse,this.handleDragStop(f))),v(this,"onTouchStart",f=>(x=S.touch,this.handleDragStart(f))),v(this,"onTouchEnd",f=>(x=S.touch,this.handleDragStop(f)))}componentDidMount(){this.mounted=!0;const f=this.findDOMNode();f&&(0,t.addEvent)(f,S.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const f=this.findDOMNode();if(f){const{ownerDocument:u}=f;(0,t.removeEvent)(u,S.mouse.move,this.handleDrag),(0,t.removeEvent)(u,S.touch.move,this.handleDrag),(0,t.removeEvent)(u,S.mouse.stop,this.handleDragStop),(0,t.removeEvent)(u,S.touch.stop,this.handleDragStop),(0,t.removeEvent)(f,S.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,t.removeUserSelectStyles)(u)}}findDOMNode(){var f,u;return(f=this.props)!==null&&f!==void 0&&f.nodeRef?(u=this.props)===null||u===void 0||(u=u.nodeRef)===null||u===void 0?void 0:u.current:r.default.findDOMNode(this)}render(){return e.cloneElement(e.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};return he.default=_,v(_,"displayName","DraggableCore"),v(_,"propTypes",{allowAnyClick:n.default.bool,children:n.default.node.isRequired,disabled:n.default.bool,enableUserSelectHack:n.default.bool,offsetParent:function(y,f){if(y[f]&&y[f].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:n.default.arrayOf(n.default.number),handle:n.default.string,cancel:n.default.string,nodeRef:n.default.object,onStart:n.default.func,onDrag:n.default.func,onStop:n.default.func,onMouseDown:n.default.func,scale:n.default.number,className:i.dontSetMe,style:i.dontSetMe,transform:i.dontSetMe}),v(_,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1}),he}var Ut;function mr(){return Ut||(Ut=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"DraggableCore",{enumerable:!0,get:function(){return d.default}}),e.default=void 0;var n=b(on()),r=v(ln()),t=v(an()),o=v(hr),i=vt(),a=pn(),l=je(),d=v(gr()),c=v(hn());function v(u){return u&&u.__esModule?u:{default:u}}function p(u){if(typeof WeakMap!="function")return null;var g=new WeakMap,m=new WeakMap;return(p=function(P){return P?m:g})(u)}function b(u,g){if(u&&u.__esModule)return u;if(u===null||typeof u!="object"&&typeof u!="function")return{default:u};var m=p(g);if(m&&m.has(u))return m.get(u);var P={},D=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in u)if(s!=="default"&&Object.prototype.hasOwnProperty.call(u,s)){var h=D?Object.getOwnPropertyDescriptor(u,s):null;h&&(h.get||h.set)?Object.defineProperty(P,s,h):P[s]=u[s]}return P.default=u,m&&m.set(u,P),P}function S(){return S=Object.assign?Object.assign.bind():function(u){for(var g=1;g<arguments.length;g++){var m=arguments[g];for(var P in m)Object.prototype.hasOwnProperty.call(m,P)&&(u[P]=m[P])}return u},S.apply(this,arguments)}function x(u,g,m){return g=_(g),g in u?Object.defineProperty(u,g,{value:m,enumerable:!0,configurable:!0,writable:!0}):u[g]=m,u}function _(u){var g=y(u,"string");return typeof g=="symbol"?g:String(g)}function y(u,g){if(typeof u!="object"||u===null)return u;var m=u[Symbol.toPrimitive];if(m!==void 0){var P=m.call(u,g);if(typeof P!="object")return P;throw new TypeError("@@toPrimitive must return a primitive value.")}return(g==="string"?String:Number)(u)}class f extends n.Component{static getDerivedStateFromProps(g,m){let{position:P}=g,{prevPropsPosition:D}=m;return P&&(!D||P.x!==D.x||P.y!==D.y)?((0,c.default)("Draggable: getDerivedStateFromProps %j",{position:P,prevPropsPosition:D}),{x:P.x,y:P.y,prevPropsPosition:{...P}}):null}constructor(g){super(g),x(this,"onDragStart",(m,P)=>{if((0,c.default)("Draggable: onDragStart: %j",P),this.props.onStart(m,(0,a.createDraggableData)(this,P))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),x(this,"onDrag",(m,P)=>{if(!this.state.dragging)return!1;(0,c.default)("Draggable: onDrag: %j",P);const D=(0,a.createDraggableData)(this,P),s={x:D.x,y:D.y,slackX:0,slackY:0};if(this.props.bounds){const{x:w,y:M}=s;s.x+=this.state.slackX,s.y+=this.state.slackY;const[k,R]=(0,a.getBoundPosition)(this,s.x,s.y);s.x=k,s.y=R,s.slackX=this.state.slackX+(w-s.x),s.slackY=this.state.slackY+(M-s.y),D.x=s.x,D.y=s.y,D.deltaX=s.x-this.state.x,D.deltaY=s.y-this.state.y}if(this.props.onDrag(m,D)===!1)return!1;this.setState(s)}),x(this,"onDragStop",(m,P)=>{if(!this.state.dragging||this.props.onStop(m,(0,a.createDraggableData)(this,P))===!1)return!1;(0,c.default)("Draggable: onDragStop: %j",P);const s={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x:w,y:M}=this.props.position;s.x=w,s.y=M}this.setState(s)}),this.state={dragging:!1,dragged:!1,x:g.position?g.position.x:g.defaultPosition.x,y:g.position?g.position.y:g.defaultPosition.y,prevPropsPosition:{...g.position},slackX:0,slackY:0,isElementSVG:!1},g.position&&!(g.onDrag||g.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.setState({dragging:!1})}findDOMNode(){var g,m;return(g=(m=this.props)===null||m===void 0||(m=m.nodeRef)===null||m===void 0?void 0:m.current)!==null&&g!==void 0?g:t.default.findDOMNode(this)}render(){const{axis:g,bounds:m,children:P,defaultPosition:D,defaultClassName:s,defaultClassNameDragging:h,defaultClassNameDragged:w,position:M,positionOffset:k,scale:R,...O}=this.props;let q={},K=null;const te=!!!M||this.state.dragging,oe=M||D,ie={x:(0,a.canDragX)(this)&&te?this.state.x:oe.x,y:(0,a.canDragY)(this)&&te?this.state.y:oe.y};this.state.isElementSVG?K=(0,i.createSVGTransform)(ie,k):q=(0,i.createCSSTransform)(ie,k);const U=(0,o.default)(P.props.className||"",s,{[h]:this.state.dragging,[w]:this.state.dragged});return n.createElement(d.default,S({},O,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),n.cloneElement(n.Children.only(P),{className:U,style:{...P.props.style,...q},transform:K}))}}e.default=f,x(f,"displayName","Draggable"),x(f,"propTypes",{...d.default.propTypes,axis:r.default.oneOf(["both","x","y","none"]),bounds:r.default.oneOfType([r.default.shape({left:r.default.number,right:r.default.number,top:r.default.number,bottom:r.default.number}),r.default.string,r.default.oneOf([!1])]),defaultClassName:r.default.string,defaultClassNameDragging:r.default.string,defaultClassNameDragged:r.default.string,defaultPosition:r.default.shape({x:r.default.number,y:r.default.number}),positionOffset:r.default.shape({x:r.default.oneOfType([r.default.number,r.default.string]),y:r.default.oneOfType([r.default.number,r.default.string])}),position:r.default.shape({x:r.default.number,y:r.default.number}),className:l.dontSetMe,style:l.dontSetMe,transform:l.dontSetMe}),x(f,"defaultProps",{...d.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})}(Xe)),Xe}var Gt;function yr(){if(Gt)return pe.exports;Gt=1;const{default:e,DraggableCore:n}=mr();return pe.exports=e,pe.exports.default=e,pe.exports.DraggableCore=n,pe.exports}var vr=yr();const wr=En(vr);var T=function(){return T=Object.assign||function(e){for(var n,r=1,t=arguments.length;r<t;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},T.apply(this,arguments)},Xt={width:"100%",height:"10px",top:"0px",left:"0px",cursor:"row-resize"},Yt={width:"10px",height:"100%",top:"0px",left:"0px",cursor:"col-resize"},Ce={width:"20px",height:"20px",position:"absolute",zIndex:1},br={top:T(T({},Xt),{top:"-5px"}),right:T(T({},Yt),{left:void 0,right:"-5px"}),bottom:T(T({},Xt),{top:void 0,bottom:"-5px"}),left:T(T({},Yt),{left:"-5px"}),topRight:T(T({},Ce),{right:"-10px",top:"-10px",cursor:"ne-resize"}),bottomRight:T(T({},Ce),{right:"-10px",bottom:"-10px",cursor:"se-resize"}),bottomLeft:T(T({},Ce),{left:"-10px",bottom:"-10px",cursor:"sw-resize"}),topLeft:T(T({},Ce),{left:"-10px",top:"-10px",cursor:"nw-resize"})},xr=z.memo(function(e){var n=e.onResizeStart,r=e.direction,t=e.children,o=e.replaceStyles,i=e.className,a=z.useCallback(function(c){n(c,r)},[n,r]),l=z.useCallback(function(c){n(c,r)},[n,r]),d=z.useMemo(function(){return T(T({position:"absolute",userSelect:"none"},br[r]),o??{})},[o,r]);return C.jsx("div",{className:i||void 0,style:d,onMouseDown:a,onTouchStart:l,children:t})}),Sr=function(){var e=function(n,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])},e(n,r)};return function(n,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(n,r);function t(){this.constructor=n}n.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)}}(),X=function(){return X=Object.assign||function(e){for(var n,r=1,t=arguments.length;r<t;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},X.apply(this,arguments)},_r={width:"auto",height:"auto"},ze=function(e,n,r){return Math.max(Math.min(e,r),n)},Vt=function(e,n,r){var t=Math.round(e/n);return t*n+r*(t-1)},se=function(e,n){return new RegExp(e,"i").test(n)},De=function(e){return!!(e.touches&&e.touches.length)},Pr=function(e){return!!((e.clientX||e.clientX===0)&&(e.clientY||e.clientY===0))},Kt=function(e,n,r){r===void 0&&(r=0);var t=n.reduce(function(i,a,l){return Math.abs(a-e)<Math.abs(n[i]-e)?l:i},0),o=Math.abs(n[t]-e);return r===0||o<r?n[t]:e},Ye=function(e){return e=e.toString(),e==="auto"||e.endsWith("px")||e.endsWith("%")||e.endsWith("vh")||e.endsWith("vw")||e.endsWith("vmax")||e.endsWith("vmin")?e:"".concat(e,"px")},Me=function(e,n,r,t){if(e&&typeof e=="string"){if(e.endsWith("px"))return Number(e.replace("px",""));if(e.endsWith("%")){var o=Number(e.replace("%",""))/100;return n*o}if(e.endsWith("vw")){var o=Number(e.replace("vw",""))/100;return r*o}if(e.endsWith("vh")){var o=Number(e.replace("vh",""))/100;return t*o}}return e},Cr=function(e,n,r,t,o,i,a){return t=Me(t,e.width,n,r),o=Me(o,e.height,n,r),i=Me(i,e.width,n,r),a=Me(a,e.height,n,r),{maxWidth:typeof t>"u"?void 0:Number(t),maxHeight:typeof o>"u"?void 0:Number(o),minWidth:typeof i>"u"?void 0:Number(i),minHeight:typeof a>"u"?void 0:Number(a)}},zr=function(e){return Array.isArray(e)?e:[e,e]},Dr=["as","ref","style","className","grid","gridGap","snap","bounds","boundsByDirection","size","defaultSize","minWidth","minHeight","maxWidth","maxHeight","lockAspectRatio","lockAspectRatioExtraWidth","lockAspectRatioExtraHeight","enable","handleStyles","handleClasses","handleWrapperStyle","handleWrapperClass","children","onResizeStart","onResize","onResizeStop","handleComponent","scale","resizeRatio","snapGap"],Jt="__resizable_base__",Mr=function(e){Sr(n,e);function n(r){var t,o,i,a,l=e.call(this,r)||this;return l.ratio=1,l.resizable=null,l.parentLeft=0,l.parentTop=0,l.resizableLeft=0,l.resizableRight=0,l.resizableTop=0,l.resizableBottom=0,l.targetLeft=0,l.targetTop=0,l.delta={width:0,height:0},l.appendBase=function(){if(!l.resizable||!l.window)return null;var d=l.parentNode;if(!d)return null;var c=l.window.document.createElement("div");return c.style.width="100%",c.style.height="100%",c.style.position="absolute",c.style.transform="scale(0, 0)",c.style.left="0",c.style.flex="0 0 100%",c.classList?c.classList.add(Jt):c.className+=Jt,d.appendChild(c),c},l.removeBase=function(d){var c=l.parentNode;c&&c.removeChild(d)},l.state={isResizing:!1,width:(o=(t=l.propsSize)===null||t===void 0?void 0:t.width)!==null&&o!==void 0?o:"auto",height:(a=(i=l.propsSize)===null||i===void 0?void 0:i.height)!==null&&a!==void 0?a:"auto",direction:"right",original:{x:0,y:0,width:0,height:0},backgroundStyle:{height:"100%",width:"100%",backgroundColor:"rgba(0,0,0,0)",cursor:"auto",opacity:0,position:"fixed",zIndex:9999,top:"0",left:"0",bottom:"0",right:"0"},flexBasis:void 0},l.onResizeStart=l.onResizeStart.bind(l),l.onMouseMove=l.onMouseMove.bind(l),l.onMouseUp=l.onMouseUp.bind(l),l}return Object.defineProperty(n.prototype,"parentNode",{get:function(){return this.resizable?this.resizable.parentNode:null},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"window",{get:function(){return!this.resizable||!this.resizable.ownerDocument?null:this.resizable.ownerDocument.defaultView},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"propsSize",{get:function(){return this.props.size||this.props.defaultSize||_r},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"size",{get:function(){var r=0,t=0;if(this.resizable&&this.window){var o=this.resizable.offsetWidth,i=this.resizable.offsetHeight,a=this.resizable.style.position;a!=="relative"&&(this.resizable.style.position="relative"),r=this.resizable.style.width!=="auto"?this.resizable.offsetWidth:o,t=this.resizable.style.height!=="auto"?this.resizable.offsetHeight:i,this.resizable.style.position=a}return{width:r,height:t}},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"sizeStyle",{get:function(){var r=this,t=this.props.size,o=function(l){var d;if(typeof r.state[l]>"u"||r.state[l]==="auto")return"auto";if(r.propsSize&&r.propsSize[l]&&(!((d=r.propsSize[l])===null||d===void 0)&&d.toString().endsWith("%"))){if(r.state[l].toString().endsWith("%"))return r.state[l].toString();var c=r.getParentSize(),v=Number(r.state[l].toString().replace("px","")),p=v/c[l]*100;return"".concat(p,"%")}return Ye(r.state[l])},i=t&&typeof t.width<"u"&&!this.state.isResizing?Ye(t.width):o("width"),a=t&&typeof t.height<"u"&&!this.state.isResizing?Ye(t.height):o("height");return{width:i,height:a}},enumerable:!1,configurable:!0}),n.prototype.getParentSize=function(){if(!this.parentNode)return this.window?{width:this.window.innerWidth,height:this.window.innerHeight}:{width:0,height:0};var r=this.appendBase();if(!r)return{width:0,height:0};var t=!1,o=this.parentNode.style.flexWrap;o!=="wrap"&&(t=!0,this.parentNode.style.flexWrap="wrap"),r.style.position="relative",r.style.minWidth="100%",r.style.minHeight="100%";var i={width:r.offsetWidth,height:r.offsetHeight};return t&&(this.parentNode.style.flexWrap=o),this.removeBase(r),i},n.prototype.bindEvents=function(){this.window&&(this.window.addEventListener("mouseup",this.onMouseUp),this.window.addEventListener("mousemove",this.onMouseMove),this.window.addEventListener("mouseleave",this.onMouseUp),this.window.addEventListener("touchmove",this.onMouseMove,{capture:!0,passive:!1}),this.window.addEventListener("touchend",this.onMouseUp))},n.prototype.unbindEvents=function(){this.window&&(this.window.removeEventListener("mouseup",this.onMouseUp),this.window.removeEventListener("mousemove",this.onMouseMove),this.window.removeEventListener("mouseleave",this.onMouseUp),this.window.removeEventListener("touchmove",this.onMouseMove,!0),this.window.removeEventListener("touchend",this.onMouseUp))},n.prototype.componentDidMount=function(){if(!(!this.resizable||!this.window)){var r=this.window.getComputedStyle(this.resizable);this.setState({width:this.state.width||this.size.width,height:this.state.height||this.size.height,flexBasis:r.flexBasis!=="auto"?r.flexBasis:void 0})}},n.prototype.componentWillUnmount=function(){this.window&&this.unbindEvents()},n.prototype.createSizeForCssProperty=function(r,t){var o=this.propsSize&&this.propsSize[t];return this.state[t]==="auto"&&this.state.original[t]===r&&(typeof o>"u"||o==="auto")?"auto":r},n.prototype.calculateNewMaxFromBoundary=function(r,t){var o=this.props.boundsByDirection,i=this.state.direction,a=o&&se("left",i),l=o&&se("top",i),d,c;if(this.props.bounds==="parent"){var v=this.parentNode;v&&(d=a?this.resizableRight-this.parentLeft:v.offsetWidth+(this.parentLeft-this.resizableLeft),c=l?this.resizableBottom-this.parentTop:v.offsetHeight+(this.parentTop-this.resizableTop))}else this.props.bounds==="window"?this.window&&(d=a?this.resizableRight:this.window.innerWidth-this.resizableLeft,c=l?this.resizableBottom:this.window.innerHeight-this.resizableTop):this.props.bounds&&(d=a?this.resizableRight-this.targetLeft:this.props.bounds.offsetWidth+(this.targetLeft-this.resizableLeft),c=l?this.resizableBottom-this.targetTop:this.props.bounds.offsetHeight+(this.targetTop-this.resizableTop));return d&&Number.isFinite(d)&&(r=r&&r<d?r:d),c&&Number.isFinite(c)&&(t=t&&t<c?t:c),{maxWidth:r,maxHeight:t}},n.prototype.calculateNewSizeFromDirection=function(r,t){var o=this.props.scale||1,i=zr(this.props.resizeRatio||1),a=i[0],l=i[1],d=this.state,c=d.direction,v=d.original,p=this.props,b=p.lockAspectRatio,S=p.lockAspectRatioExtraHeight,x=p.lockAspectRatioExtraWidth,_=v.width,y=v.height,f=S||0,u=x||0;return se("right",c)&&(_=v.width+(r-v.x)*a/o,b&&(y=(_-u)/this.ratio+f)),se("left",c)&&(_=v.width-(r-v.x)*a/o,b&&(y=(_-u)/this.ratio+f)),se("bottom",c)&&(y=v.height+(t-v.y)*l/o,b&&(_=(y-f)*this.ratio+u)),se("top",c)&&(y=v.height-(t-v.y)*l/o,b&&(_=(y-f)*this.ratio+u)),{newWidth:_,newHeight:y}},n.prototype.calculateNewSizeFromAspectRatio=function(r,t,o,i){var a=this.props,l=a.lockAspectRatio,d=a.lockAspectRatioExtraHeight,c=a.lockAspectRatioExtraWidth,v=typeof i.width>"u"?10:i.width,p=typeof o.width>"u"||o.width<0?r:o.width,b=typeof i.height>"u"?10:i.height,S=typeof o.height>"u"||o.height<0?t:o.height,x=d||0,_=c||0;if(l){var y=(b-x)*this.ratio+_,f=(S-x)*this.ratio+_,u=(v-_)/this.ratio+x,g=(p-_)/this.ratio+x,m=Math.max(v,y),P=Math.min(p,f),D=Math.max(b,u),s=Math.min(S,g);r=ze(r,m,P),t=ze(t,D,s)}else r=ze(r,v,p),t=ze(t,b,S);return{newWidth:r,newHeight:t}},n.prototype.setBoundingClientRect=function(){var r=1/(this.props.scale||1);if(this.props.bounds==="parent"){var t=this.parentNode;if(t){var o=t.getBoundingClientRect();this.parentLeft=o.left*r,this.parentTop=o.top*r}}if(this.props.bounds&&typeof this.props.bounds!="string"){var i=this.props.bounds.getBoundingClientRect();this.targetLeft=i.left*r,this.targetTop=i.top*r}if(this.resizable){var a=this.resizable.getBoundingClientRect(),l=a.left,d=a.top,c=a.right,v=a.bottom;this.resizableLeft=l*r,this.resizableRight=c*r,this.resizableTop=d*r,this.resizableBottom=v*r}},n.prototype.onResizeStart=function(r,t){if(!(!this.resizable||!this.window)){var o=0,i=0;if(r.nativeEvent&&Pr(r.nativeEvent)?(o=r.nativeEvent.clientX,i=r.nativeEvent.clientY):r.nativeEvent&&De(r.nativeEvent)&&(o=r.nativeEvent.touches[0].clientX,i=r.nativeEvent.touches[0].clientY),this.props.onResizeStart&&this.resizable){var a=this.props.onResizeStart(r,t,this.resizable);if(a===!1)return}this.props.size&&(typeof this.props.size.height<"u"&&this.props.size.height!==this.state.height&&this.setState({height:this.props.size.height}),typeof this.props.size.width<"u"&&this.props.size.width!==this.state.width&&this.setState({width:this.props.size.width})),this.ratio=typeof this.props.lockAspectRatio=="number"?this.props.lockAspectRatio:this.size.width/this.size.height;var l,d=this.window.getComputedStyle(this.resizable);if(d.flexBasis!=="auto"){var c=this.parentNode;if(c){var v=this.window.getComputedStyle(c).flexDirection;this.flexDir=v.startsWith("row")?"row":"column",l=d.flexBasis}}this.setBoundingClientRect(),this.bindEvents();var p={original:{x:o,y:i,width:this.size.width,height:this.size.height},isResizing:!0,backgroundStyle:X(X({},this.state.backgroundStyle),{cursor:this.window.getComputedStyle(r.target).cursor||"auto"}),direction:t,flexBasis:l};this.setState(p)}},n.prototype.onMouseMove=function(r){var t=this;if(!(!this.state.isResizing||!this.resizable||!this.window)){if(this.window.TouchEvent&&De(r))try{r.preventDefault(),r.stopPropagation()}catch{}var o=this.props,i=o.maxWidth,a=o.maxHeight,l=o.minWidth,d=o.minHeight,c=De(r)?r.touches[0].clientX:r.clientX,v=De(r)?r.touches[0].clientY:r.clientY,p=this.state,b=p.direction,S=p.original,x=p.width,_=p.height,y=this.getParentSize(),f=Cr(y,this.window.innerWidth,this.window.innerHeight,i,a,l,d);i=f.maxWidth,a=f.maxHeight,l=f.minWidth,d=f.minHeight;var u=this.calculateNewSizeFromDirection(c,v),g=u.newHeight,m=u.newWidth,P=this.calculateNewMaxFromBoundary(i,a);this.props.snap&&this.props.snap.x&&(m=Kt(m,this.props.snap.x,this.props.snapGap)),this.props.snap&&this.props.snap.y&&(g=Kt(g,this.props.snap.y,this.props.snapGap));var D=this.calculateNewSizeFromAspectRatio(m,g,{width:P.maxWidth,height:P.maxHeight},{width:l,height:d});if(m=D.newWidth,g=D.newHeight,this.props.grid){var s=Vt(m,this.props.grid[0],this.props.gridGap?this.props.gridGap[0]:0),h=Vt(g,this.props.grid[1],this.props.gridGap?this.props.gridGap[1]:0),w=this.props.snapGap||0,M=w===0||Math.abs(s-m)<=w?s:m,k=w===0||Math.abs(h-g)<=w?h:g;m=M,g=k}var R={width:m-S.width,height:g-S.height};if(this.delta=R,x&&typeof x=="string"){if(x.endsWith("%")){var O=m/y.width*100;m="".concat(O,"%")}else if(x.endsWith("vw")){var q=m/this.window.innerWidth*100;m="".concat(q,"vw")}else if(x.endsWith("vh")){var K=m/this.window.innerHeight*100;m="".concat(K,"vh")}}if(_&&typeof _=="string"){if(_.endsWith("%")){var O=g/y.height*100;g="".concat(O,"%")}else if(_.endsWith("vw")){var q=g/this.window.innerWidth*100;g="".concat(q,"vw")}else if(_.endsWith("vh")){var K=g/this.window.innerHeight*100;g="".concat(K,"vh")}}var $={width:this.createSizeForCssProperty(m,"width"),height:this.createSizeForCssProperty(g,"height")};this.flexDir==="row"?$.flexBasis=$.width:this.flexDir==="column"&&($.flexBasis=$.height);var te=this.state.width!==$.width,oe=this.state.height!==$.height,ie=this.state.flexBasis!==$.flexBasis,U=te||oe||ie;U&&Le.flushSync(function(){t.setState($)}),this.props.onResize&&U&&this.props.onResize(r,b,this.resizable,R)}},n.prototype.onMouseUp=function(r){var t,o,i=this.state,a=i.isResizing,l=i.direction;i.original,!(!a||!this.resizable)&&(this.props.onResizeStop&&this.props.onResizeStop(r,l,this.resizable,this.delta),this.props.size&&this.setState({width:(t=this.props.size.width)!==null&&t!==void 0?t:"auto",height:(o=this.props.size.height)!==null&&o!==void 0?o:"auto"}),this.unbindEvents(),this.setState({isResizing:!1,backgroundStyle:X(X({},this.state.backgroundStyle),{cursor:"auto"})}))},n.prototype.updateSize=function(r){var t,o;this.setState({width:(t=r.width)!==null&&t!==void 0?t:"auto",height:(o=r.height)!==null&&o!==void 0?o:"auto"})},n.prototype.renderResizer=function(){var r=this,t=this.props,o=t.enable,i=t.handleStyles,a=t.handleClasses,l=t.handleWrapperStyle,d=t.handleWrapperClass,c=t.handleComponent;if(!o)return null;var v=Object.keys(o).map(function(p){return o[p]!==!1?C.jsx(xr,{direction:p,onResizeStart:r.onResizeStart,replaceStyles:i&&i[p],className:a&&a[p],children:c&&c[p]?c[p]:null},p):null});return C.jsx("div",{className:d,style:l,children:v})},n.prototype.render=function(){var r=this,t=Object.keys(this.props).reduce(function(a,l){return Dr.indexOf(l)!==-1||(a[l]=r.props[l]),a},{}),o=X(X(X({position:"relative",userSelect:this.state.isResizing?"none":"auto"},this.props.style),this.sizeStyle),{maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight,minWidth:this.props.minWidth,minHeight:this.props.minHeight,boxSizing:"border-box",flexShrink:0});this.state.flexBasis&&(o.flexBasis=this.state.flexBasis);var i=this.props.as||"div";return C.jsxs(i,X({style:o,className:this.props.className},t,{ref:function(a){a&&(r.resizable=a)},children:[this.state.isResizing&&C.jsx("div",{style:this.state.backgroundStyle}),this.props.children,this.renderResizer()]}))},n.defaultProps={as:"div",onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},enable:{top:!0,right:!0,bottom:!0,left:!0,topRight:!0,bottomRight:!0,bottomLeft:!0,topLeft:!0},style:{},grid:[1,1],gridGap:[0,0],lockAspectRatio:!1,lockAspectRatioExtraWidth:0,lockAspectRatioExtraHeight:0,scale:1,resizeRatio:1,snapGap:0},n}(z.PureComponent);var st=function(e,n){return st=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,t){r.__proto__=t}||function(r,t){for(var o in t)t.hasOwnProperty(o)&&(r[o]=t[o])},st(e,n)};function Rr(e,n){st(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}var I=function(){return I=Object.assign||function(n){for(var r,t=1,o=arguments.length;t<o;t++){r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])}return n},I.apply(this,arguments)};function Nr(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(e);o<t.length;o++)n.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(r[t[o]]=e[t[o]]);return r}var Er={width:"auto",height:"auto",display:"inline-block",position:"absolute",top:0,left:0},kr=function(e){return{bottom:e,bottomLeft:e,bottomRight:e,left:e,right:e,top:e,topLeft:e,topRight:e}},Or=function(e){Rr(n,e);function n(r){var t=e.call(this,r)||this;return t.resizingPosition={x:0,y:0},t.offsetFromParent={left:0,top:0},t.resizableElement={current:null},t.originalPosition={x:0,y:0},t.state={resizing:!1,bounds:{top:0,right:0,bottom:0,left:0},maxWidth:r.maxWidth,maxHeight:r.maxHeight},t.onResizeStart=t.onResizeStart.bind(t),t.onResize=t.onResize.bind(t),t.onResizeStop=t.onResizeStop.bind(t),t.onDragStart=t.onDragStart.bind(t),t.onDrag=t.onDrag.bind(t),t.onDragStop=t.onDragStop.bind(t),t.getMaxSizesFromProps=t.getMaxSizesFromProps.bind(t),t}return n.prototype.componentDidMount=function(){this.updateOffsetFromParent();var r=this.offsetFromParent,t=r.left,o=r.top,i=this.getDraggablePosition(),a=i.x,l=i.y;this.draggable.setState({x:a-t,y:l-o}),this.forceUpdate()},n.prototype.getDraggablePosition=function(){var r=this.draggable.state,t=r.x,o=r.y;return{x:t,y:o}},n.prototype.getParent=function(){return this.resizable&&this.resizable.parentNode},n.prototype.getParentSize=function(){return this.resizable.getParentSize()},n.prototype.getMaxSizesFromProps=function(){var r=typeof this.props.maxWidth>"u"?Number.MAX_SAFE_INTEGER:this.props.maxWidth,t=typeof this.props.maxHeight>"u"?Number.MAX_SAFE_INTEGER:this.props.maxHeight;return{maxWidth:r,maxHeight:t}},n.prototype.getSelfElement=function(){return this.resizable&&this.resizable.resizable},n.prototype.getOffsetHeight=function(r){var t=this.props.scale;switch(this.props.bounds){case"window":return window.innerHeight/t;case"body":return document.body.offsetHeight/t;default:return r.offsetHeight}},n.prototype.getOffsetWidth=function(r){var t=this.props.scale;switch(this.props.bounds){case"window":return window.innerWidth/t;case"body":return document.body.offsetWidth/t;default:return r.offsetWidth}},n.prototype.onDragStart=function(r,t){this.props.onDragStart&&this.props.onDragStart(r,t);var o=this.getDraggablePosition();if(this.originalPosition=o,!!this.props.bounds){var i=this.getParent(),a=this.props.scale,l;if(this.props.bounds==="parent")l=i;else if(this.props.bounds==="body"){var d=i.getBoundingClientRect(),c=d.left,v=d.top,p=document.body.getBoundingClientRect(),b=-(c-i.offsetLeft*a-p.left)/a,S=-(v-i.offsetTop*a-p.top)/a,x=(document.body.offsetWidth-this.resizable.size.width*a)/a+b,_=(document.body.offsetHeight-this.resizable.size.height*a)/a+S;return this.setState({bounds:{top:S,right:x,bottom:_,left:b}})}else if(this.props.bounds==="window"){if(!this.resizable)return;var y=i.getBoundingClientRect(),f=y.left,u=y.top,g=-(f-i.offsetLeft*a)/a,m=-(u-i.offsetTop*a)/a,x=(window.innerWidth-this.resizable.size.width*a)/a+g,_=(window.innerHeight-this.resizable.size.height*a)/a+m;return this.setState({bounds:{top:m,right:x,bottom:_,left:g}})}else typeof this.props.bounds=="string"?l=document.querySelector(this.props.bounds):this.props.bounds instanceof HTMLElement&&(l=this.props.bounds);if(!(!(l instanceof HTMLElement)||!(i instanceof HTMLElement))){var P=l.getBoundingClientRect(),D=P.left,s=P.top,h=i.getBoundingClientRect(),w=h.left,M=h.top,k=(D-w)/a,R=s-M;if(this.resizable){this.updateOffsetFromParent();var O=this.offsetFromParent;this.setState({bounds:{top:R-O.top,right:k+(l.offsetWidth-this.resizable.size.width)-O.left/a,bottom:R+(l.offsetHeight-this.resizable.size.height)-O.top,left:k-O.left/a}})}}}},n.prototype.onDrag=function(r,t){if(this.props.onDrag){var o=this.offsetFromParent,i=o.left,a=o.top;if(!this.props.dragAxis||this.props.dragAxis==="both")return this.props.onDrag(r,I(I({},t),{x:t.x+i,y:t.y+a}));if(this.props.dragAxis==="x")return this.props.onDrag(r,I(I({},t),{x:t.x+i,y:this.originalPosition.y+a,deltaY:0}));if(this.props.dragAxis==="y")return this.props.onDrag(r,I(I({},t),{x:this.originalPosition.x+i,y:t.y+a,deltaX:0}))}},n.prototype.onDragStop=function(r,t){if(this.props.onDragStop){var o=this.offsetFromParent,i=o.left,a=o.top;if(!this.props.dragAxis||this.props.dragAxis==="both")return this.props.onDragStop(r,I(I({},t),{x:t.x+i,y:t.y+a}));if(this.props.dragAxis==="x")return this.props.onDragStop(r,I(I({},t),{x:t.x+i,y:this.originalPosition.y+a,deltaY:0}));if(this.props.dragAxis==="y")return this.props.onDragStop(r,I(I({},t),{x:this.originalPosition.x+i,y:t.y+a,deltaX:0}))}},n.prototype.onResizeStart=function(r,t,o){r.stopPropagation(),this.setState({resizing:!0});var i=this.props.scale,a=this.offsetFromParent,l=this.getDraggablePosition();if(this.resizingPosition={x:l.x+a.left,y:l.y+a.top},this.originalPosition=l,this.props.bounds){var d=this.getParent(),c=void 0;this.props.bounds==="parent"?c=d:this.props.bounds==="body"?c=document.body:this.props.bounds==="window"?c=window:typeof this.props.bounds=="string"?c=document.querySelector(this.props.bounds):this.props.bounds instanceof HTMLElement&&(c=this.props.bounds);var v=this.getSelfElement();if(v instanceof Element&&(c instanceof HTMLElement||c===window)&&d instanceof HTMLElement){var p=this.getMaxSizesFromProps(),b=p.maxWidth,S=p.maxHeight,x=this.getParentSize();if(b&&typeof b=="string")if(b.endsWith("%")){var _=Number(b.replace("%",""))/100;b=x.width*_}else b.endsWith("px")&&(b=Number(b.replace("px","")));if(S&&typeof S=="string")if(S.endsWith("%")){var _=Number(S.replace("%",""))/100;S=x.height*_}else S.endsWith("px")&&(S=Number(S.replace("px","")));var y=v.getBoundingClientRect(),f=y.left,u=y.top,g=this.props.bounds==="window"?{left:0,top:0}:c.getBoundingClientRect(),m=g.left,P=g.top,D=this.getOffsetWidth(c),s=this.getOffsetHeight(c),h=t.toLowerCase().endsWith("left"),w=t.toLowerCase().endsWith("right"),M=t.startsWith("top"),k=t.startsWith("bottom");if((h||M)&&this.resizable){var R=(f-m)/i+this.resizable.size.width;this.setState({maxWidth:R>Number(b)?b:R})}if(w||this.props.lockAspectRatio&&!h&&!M){var R=D+(m-f)/i;this.setState({maxWidth:R>Number(b)?b:R})}if((M||h)&&this.resizable){var R=(u-P)/i+this.resizable.size.height;this.setState({maxHeight:R>Number(S)?S:R})}if(k||this.props.lockAspectRatio&&!M&&!h){var R=s+(P-u)/i;this.setState({maxHeight:R>Number(S)?S:R})}}}else this.setState({maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight});this.props.onResizeStart&&this.props.onResizeStart(r,t,o)},n.prototype.onResize=function(r,t,o,i){var a=this,l={x:this.originalPosition.x,y:this.originalPosition.y},d=-i.width,c=-i.height,v=["top","left","topLeft","bottomLeft","topRight"];v.includes(t)&&(t==="bottomLeft"?l.x+=d:(t==="topRight"||(l.x+=d),l.y+=c));var p=this.draggable.state;(l.x!==p.x||l.y!==p.y)&&Le.flushSync(function(){a.draggable.setState(l)}),this.updateOffsetFromParent();var b=this.offsetFromParent,S=this.getDraggablePosition().x+b.left,x=this.getDraggablePosition().y+b.top;this.resizingPosition={x:S,y:x},this.props.onResize&&this.props.onResize(r,t,o,i,{x:S,y:x})},n.prototype.onResizeStop=function(r,t,o,i){this.setState({resizing:!1});var a=this.getMaxSizesFromProps(),l=a.maxWidth,d=a.maxHeight;this.setState({maxWidth:l,maxHeight:d}),this.props.onResizeStop&&this.props.onResizeStop(r,t,o,i,this.resizingPosition)},n.prototype.updateSize=function(r){this.resizable&&this.resizable.updateSize({width:r.width,height:r.height})},n.prototype.updatePosition=function(r){this.draggable.setState(r)},n.prototype.updateOffsetFromParent=function(){var r=this.props.scale,t=this.getParent(),o=this.getSelfElement();if(!t||o===null)return{top:0,left:0};var i=t.getBoundingClientRect(),a=i.left,l=i.top,d=o.getBoundingClientRect(),c=this.getDraggablePosition(),v=t.scrollLeft,p=t.scrollTop;this.offsetFromParent={left:d.left-a+v-c.x*r,top:d.top-l+p-c.y*r}},n.prototype.render=function(){var r=this,t=this.props,o=t.disableDragging,i=t.style,a=t.dragHandleClassName,l=t.position,d=t.onMouseDown,c=t.onMouseUp,v=t.dragAxis,p=t.dragGrid,b=t.bounds,S=t.enableUserSelectHack,x=t.cancel,_=t.children;t.onResizeStart,t.onResize,t.onResizeStop,t.onDragStart,t.onDrag,t.onDragStop;var y=t.resizeHandleStyles,f=t.resizeHandleClasses,u=t.resizeHandleComponent,g=t.enableResizing,m=t.resizeGrid,P=t.resizeHandleWrapperClass,D=t.resizeHandleWrapperStyle,s=t.scale,h=t.allowAnyClick,w=t.dragPositionOffset,M=Nr(t,["disableDragging","style","dragHandleClassName","position","onMouseDown","onMouseUp","dragAxis","dragGrid","bounds","enableUserSelectHack","cancel","children","onResizeStart","onResize","onResizeStop","onDragStart","onDrag","onDragStop","resizeHandleStyles","resizeHandleClasses","resizeHandleComponent","enableResizing","resizeGrid","resizeHandleWrapperClass","resizeHandleWrapperStyle","scale","allowAnyClick","dragPositionOffset"]),k=this.props.default?I({},this.props.default):void 0;delete M.default;var R=o||a?{cursor:"auto"}:{cursor:"move"},O=I(I(I({},Er),R),i),q=this.offsetFromParent,K=q.left,$=q.top,te;l&&(te={x:l.x-K,y:l.y-$});var oe=this.state.resizing?void 0:te,ie=this.state.resizing?"both":v;return z.createElement(wr,{ref:function(U){U&&(r.draggable=U)},handle:a?".".concat(a):void 0,defaultPosition:k,onMouseDown:d,onMouseUp:c,onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop,axis:ie,disabled:o,grid:p,bounds:b?this.state.bounds:void 0,position:oe,enableUserSelectHack:S,cancel:x,scale:s,allowAnyClick:h,nodeRef:this.resizableElement,positionOffset:w},z.createElement(Mr,I({},M,{ref:function(U){U&&(r.resizable=U,r.resizableElement.current=U.resizable)},defaultSize:k,size:this.props.size,enable:typeof g=="boolean"?kr(g):g,onResizeStart:this.onResizeStart,onResize:this.onResize,onResizeStop:this.onResizeStop,style:O,minWidth:this.props.minWidth,minHeight:this.props.minHeight,maxWidth:this.state.resizing?this.state.maxWidth:this.props.maxWidth,maxHeight:this.state.resizing?this.state.maxHeight:this.props.maxHeight,grid:m,handleWrapperClass:P,handleWrapperStyle:D,lockAspectRatio:this.props.lockAspectRatio,lockAspectRatioExtraWidth:this.props.lockAspectRatioExtraWidth,lockAspectRatioExtraHeight:this.props.lockAspectRatioExtraHeight,handleStyles:y,handleClasses:f,handleComponent:u,scale:this.props.scale}),_))},n.defaultProps={maxWidth:Number.MAX_SAFE_INTEGER,maxHeight:Number.MAX_SAFE_INTEGER,scale:1,onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},onDragStart:function(){},onDrag:function(){},onDragStop:function(){}},n}(z.PureComponent);const Zt=()=>{console.error("Missing PanelContext Provider")},wt=z.createContext({resizePanel:Zt,initialResizePanel:Zt,resizeable:!0}),me=({panelPoppedOut:e,uniqueId:n})=>{const{panelStateOptions:r}=z.useContext(ee);return z.useMemo(()=>{if(!r)return;if(r.saveStateIn==="external")return r.onRestoreState?.();const t=fn({saveStateKey:r.saveStateKey,uniqueId:n});try{const o=localStorage.getItem(t);if(o){const{mode:i,...a}=JSON.parse(o),l=e===void 0?i:e?"poppedOut":"poppedIn",d=a[l];return{panelPoppedOut:l==="poppedOut",...d}}}catch(o){console.error("Failed to read stored panel state!",o)}return null},[e,r,n])},Te=({panelPoppedOut:e=!1,uniqueId:n})=>{const{panelStateOptions:r}=z.useContext(ee);return t=>{if(!r)return;const o=fn({saveStateKey:r.saveStateKey,uniqueId:n}),i=e?"poppedOut":"poppedIn";if(r.saveStateIn==="external"){r.onSaveState?.({mode:i,[i]:t});return}const a=localStorage.getItem(o);let l={mode:i,[i]:t};if(a)try{l=JSON.parse(a),l.mode=i,l[i]={...l[i],...t}}catch(d){console.error("Failed to read existing panel state!",d)}try{localStorage.setItem(o,JSON.stringify(l))}catch(d){console.error("Failed to save panel state!",d)}}};function fn({saveStateKey:e,uniqueId:n}){return`panel-${e}-${n}`}try{me.displayName="useRestoreStateFrom",me.__docgenInfo={description:"",displayName:"useRestoreStateFrom",props:{panelPoppedOut:{defaultValue:{value:"false"},description:"",name:"panelPoppedOut",required:!1,type:{name:"boolean"}},uniqueId:{defaultValue:null,description:"",name:"uniqueId",required:!0,type:{name:"string"}}}}}catch{}try{Te.displayName="useSaveStateIn",Te.__docgenInfo={description:"",displayName:"useSaveStateIn",props:{panelPoppedOut:{defaultValue:{value:"false"},description:"",name:"panelPoppedOut",required:!1,type:{name:"boolean"}},uniqueId:{defaultValue:null,description:"",name:"uniqueId",required:!0,type:{name:"string"}}}}}catch{}function at({children:e,className:n,maxHeight:r,maxWidth:t,minHeight:o,minWidth:i,modal:a,position:l=a?"center":"tile",resizeable:d=a!==!0,size:c={height:200,width:320},panelPosition:v,setPanelPosition:p,panelSize:b,setPanelSize:S,setInitialPanelSize:x}){const _=z.useRef(null),{bounds:y,zIndex:f,bringPanelToFront:u,uniqueId:g}=z.useContext(xe),m=z.useCallback(()=>{const h=_.current?.getSelfElement()?.getBoundingClientRect();let w=h?.height??c.height;w==="auto"&&(w=400),p({x:Math.max((window.innerWidth-(h?.width??c.width))/2,0),y:Math.max((window.innerHeight-w)/2,0)})},[p,c.height,c.width]);z.useEffect(()=>{if(l==="center"&&!d)return m(),window.addEventListener("resize",m),()=>window.removeEventListener("resize",m)},[m,l,d]);const P=z.useCallback(h=>{const w={...b,...h};(w.width!==b.width||w.height!==b.height)&&S(w)},[b,S]),D=z.useCallback(h=>{const w={...b,...h};(w.width!==b.width||w.height!==b.height)&&x(w)},[b,x]),s=Te({uniqueId:g});return z.useEffect(()=>{s({panelPosition:v,panelSize:b})},[v,b,s]),C.jsxs(wt.Provider,{value:{resizePanel:P,initialResizePanel:D,resizeable:d},children:[a&&C.jsx("div",{style:{position:"absolute",top:0,left:0,bottom:0,right:0,backgroundColor:"rgb(0,0,0,0.1)",zIndex:f}}),C.jsx(Or,{ref:_,className:re("WindowPanel",n),dragHandleClassName:"draggable-handle",maxHeight:r,maxWidth:t,minWidth:i,minHeight:o,position:v,size:b.height==="auto"?ae(b,"width"):b,style:{zIndex:f},disableDragging:!d,enableResizing:d,bounds:y??document.body,onDragStop:(h,w)=>{p({x:w.x,y:w.y})},onResizeStop:(h,w,M,k,R)=>{p(R),S({width:parseInt(M.style.width),height:parseInt(M.style.height)})},onMouseDown:u,children:C.jsx("div",{style:{display:"flex",flexDirection:"column",width:"100%",height:"100%"},children:e})})]})}try{at.displayName="PopinWindow",at.__docgenInfo={description:"",displayName:"PopinWindow",props:{panelPosition:{defaultValue:null,description:"",name:"panelPosition",required:!0,type:{name:"PanelPosition"}},setPanelPosition:{defaultValue:null,description:"",name:"setPanelPosition",required:!0,type:{name:"Dispatch<PanelPosition>"}},panelSize:{defaultValue:null,description:"",name:"panelSize",required:!0,type:{name:"PanelSize"}},setPanelSize:{defaultValue:null,description:"",name:"setPanelSize",required:!0,type:{name:"Dispatch<PanelSize>"}},setInitialPanelSize:{defaultValue:null,description:"",name:"setInitialPanelSize",required:!0,type:{name:"Dispatch<PanelSize>"}}}}}catch{}function Wr(e){if(e.sheet)return e.sheet;for(var n=0;n<document.styleSheets.length;n++)if(document.styleSheets[n].ownerNode===e)return document.styleSheets[n]}function Tr(e){var n=document.createElement("style");return n.setAttribute("data-emotion",e.key),e.nonce!==void 0&&n.setAttribute("nonce",e.nonce),n.appendChild(document.createTextNode("")),n.setAttribute("data-s",""),n}var Ar=function(){function e(r){var t=this;this._insertTag=function(o){var i;t.tags.length===0?t.insertionPoint?i=t.insertionPoint.nextSibling:t.prepend?i=t.container.firstChild:i=t.before:i=t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(o,i),t.tags.push(o)},this.isSpeedy=r.speedy===void 0?!0:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var n=e.prototype;return n.hydrate=function(t){t.forEach(this._insertTag)},n.insert=function(t){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(Tr(this));var o=this.tags[this.tags.length-1];if(this.isSpeedy){var i=Wr(o);try{i.insertRule(t,i.cssRules.length)}catch{}}else o.appendChild(document.createTextNode(t));this.ctr++},n.flush=function(){this.tags.forEach(function(t){var o;return(o=t.parentNode)==null?void 0:o.removeChild(t)}),this.tags=[],this.ctr=0},e}(),H="-ms-",Ae="-moz-",N="-webkit-",gn="comm",bt="rule",xt="decl",Ir="@import",mn="@keyframes",Lr="@layer",jr=Math.abs,He=String.fromCharCode,Hr=Object.assign;function Br(e,n){return j(e,0)^45?(((n<<2^j(e,0))<<2^j(e,1))<<2^j(e,2))<<2^j(e,3):0}function yn(e){return e.trim()}function Fr(e,n){return(e=n.exec(e))?e[0]:e}function E(e,n,r){return e.replace(n,r)}function lt(e,n){return e.indexOf(n)}function j(e,n){return e.charCodeAt(n)|0}function ye(e,n,r){return e.slice(n,r)}function Y(e){return e.length}function St(e){return e.length}function Re(e,n){return n.push(e),e}function qr(e,n){return e.map(n).join("")}var Be=1,ce=1,vn=0,B=0,A=0,de="";function Fe(e,n,r,t,o,i,a){return{value:e,root:n,parent:r,type:t,props:o,children:i,line:Be,column:ce,length:a,return:""}}function fe(e,n){return Hr(Fe("",null,null,"",null,null,0),e,{length:-e.length},n)}function $r(){return A}function Ur(){return A=B>0?j(de,--B):0,ce--,A===10&&(ce=1,Be--),A}function F(){return A=B<vn?j(de,B++):0,ce++,A===10&&(ce=1,Be++),A}function V(){return j(de,B)}function Ee(){return B}function Se(e,n){return ye(de,e,n)}function ve(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function wn(e){return Be=ce=1,vn=Y(de=e),B=0,[]}function bn(e){return de="",e}function ke(e){return yn(Se(B-1,ct(e===91?e+2:e===40?e+1:e)))}function Gr(e){for(;(A=V())&&A<33;)F();return ve(e)>2||ve(A)>3?"":" "}function Xr(e,n){for(;--n&&F()&&!(A<48||A>102||A>57&&A<65||A>70&&A<97););return Se(e,Ee()+(n<6&&V()==32&&F()==32))}function ct(e){for(;F();)switch(A){case e:return B;case 34:case 39:e!==34&&e!==39&&ct(A);break;case 40:e===41&&ct(e);break;case 92:F();break}return B}function Yr(e,n){for(;F()&&e+A!==57;)if(e+A===84&&V()===47)break;return"/*"+Se(n,B-1)+"*"+He(e===47?e:F())}function Vr(e){for(;!ve(V());)F();return Se(e,B)}function Kr(e){return bn(Oe("",null,null,null,[""],e=wn(e),0,[0],e))}function Oe(e,n,r,t,o,i,a,l,d){for(var c=0,v=0,p=a,b=0,S=0,x=0,_=1,y=1,f=1,u=0,g="",m=o,P=i,D=t,s=g;y;)switch(x=u,u=F()){case 40:if(x!=108&&j(s,p-1)==58){lt(s+=E(ke(u),"&","&\f"),"&\f")!=-1&&(f=-1);break}case 34:case 39:case 91:s+=ke(u);break;case 9:case 10:case 13:case 32:s+=Gr(x);break;case 92:s+=Xr(Ee()-1,7);continue;case 47:switch(V()){case 42:case 47:Re(Jr(Yr(F(),Ee()),n,r),d);break;default:s+="/"}break;case 123*_:l[c++]=Y(s)*f;case 125*_:case 59:case 0:switch(u){case 0:case 125:y=0;case 59+v:f==-1&&(s=E(s,/\f/g,"")),S>0&&Y(s)-p&&Re(S>32?en(s+";",t,r,p-1):en(E(s," ","")+";",t,r,p-2),d);break;case 59:s+=";";default:if(Re(D=Qt(s,n,r,c,v,o,l,g,m=[],P=[],p),i),u===123)if(v===0)Oe(s,n,D,D,m,i,p,l,P);else switch(b===99&&j(s,3)===110?100:b){case 100:case 108:case 109:case 115:Oe(e,D,D,t&&Re(Qt(e,D,D,0,0,o,l,g,o,m=[],p),P),o,P,p,l,t?m:P);break;default:Oe(s,D,D,D,[""],P,0,l,P)}}c=v=S=0,_=f=1,g=s="",p=a;break;case 58:p=1+Y(s),S=x;default:if(_<1){if(u==123)--_;else if(u==125&&_++==0&&Ur()==125)continue}switch(s+=He(u),u*_){case 38:f=v>0?1:(s+="\f",-1);break;case 44:l[c++]=(Y(s)-1)*f,f=1;break;case 64:V()===45&&(s+=ke(F())),b=V(),v=p=Y(g=s+=Vr(Ee())),u++;break;case 45:x===45&&Y(s)==2&&(_=0)}}return i}function Qt(e,n,r,t,o,i,a,l,d,c,v){for(var p=o-1,b=o===0?i:[""],S=St(b),x=0,_=0,y=0;x<t;++x)for(var f=0,u=ye(e,p+1,p=jr(_=a[x])),g=e;f<S;++f)(g=yn(_>0?b[f]+" "+u:E(u,/&\f/g,b[f])))&&(d[y++]=g);return Fe(e,n,r,o===0?bt:l,d,c,v)}function Jr(e,n,r){return Fe(e,n,r,gn,He($r()),ye(e,2,-2),0)}function en(e,n,r,t){return Fe(e,n,r,xt,ye(e,0,t),ye(e,t+1,-1),t)}function le(e,n){for(var r="",t=St(e),o=0;o<t;o++)r+=n(e[o],o,e,n)||"";return r}function Zr(e,n,r,t){switch(e.type){case Lr:if(e.children.length)break;case Ir:case xt:return e.return=e.return||e.value;case gn:return"";case mn:return e.return=e.value+"{"+le(e.children,t)+"}";case bt:e.value=e.props.join(",")}return Y(r=le(e.children,t))?e.return=e.value+"{"+r+"}":""}function Qr(e){var n=St(e);return function(r,t,o,i){for(var a="",l=0;l<n;l++)a+=e[l](r,t,o,i)||"";return a}}function eo(e){return function(n){n.root||(n=n.return)&&e(n)}}var to=function(n,r,t){for(var o=0,i=0;o=i,i=V(),o===38&&i===12&&(r[t]=1),!ve(i);)F();return Se(n,B)},no=function(n,r){var t=-1,o=44;do switch(ve(o)){case 0:o===38&&V()===12&&(r[t]=1),n[t]+=to(B-1,r,t);break;case 2:n[t]+=ke(o);break;case 4:if(o===44){n[++t]=V()===58?"&\f":"",r[t]=n[t].length;break}default:n[t]+=He(o)}while(o=F());return n},ro=function(n,r){return bn(no(wn(n),r))},tn=new WeakMap,oo=function(n){if(!(n.type!=="rule"||!n.parent||n.length<1)){for(var r=n.value,t=n.parent,o=n.column===t.column&&n.line===t.line;t.type!=="rule";)if(t=t.parent,!t)return;if(!(n.props.length===1&&r.charCodeAt(0)!==58&&!tn.get(t))&&!o){tn.set(n,!0);for(var i=[],a=ro(r,i),l=t.props,d=0,c=0;d<a.length;d++)for(var v=0;v<l.length;v++,c++)n.props[c]=i[d]?a[d].replace(/&\f/g,l[v]):l[v]+" "+a[d]}}},io=function(n){if(n.type==="decl"){var r=n.value;r.charCodeAt(0)===108&&r.charCodeAt(2)===98&&(n.return="",n.value="")}};function xn(e,n){switch(Br(e,n)){case 5103:return N+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return N+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return N+e+Ae+e+H+e+e;case 6828:case 4268:return N+e+H+e+e;case 6165:return N+e+H+"flex-"+e+e;case 5187:return N+e+E(e,/(\w+).+(:[^]+)/,N+"box-$1$2"+H+"flex-$1$2")+e;case 5443:return N+e+H+"flex-item-"+E(e,/flex-|-self/,"")+e;case 4675:return N+e+H+"flex-line-pack"+E(e,/align-content|flex-|-self/,"")+e;case 5548:return N+e+H+E(e,"shrink","negative")+e;case 5292:return N+e+H+E(e,"basis","preferred-size")+e;case 6060:return N+"box-"+E(e,"-grow","")+N+e+H+E(e,"grow","positive")+e;case 4554:return N+E(e,/([^-])(transform)/g,"$1"+N+"$2")+e;case 6187:return E(E(E(e,/(zoom-|grab)/,N+"$1"),/(image-set)/,N+"$1"),e,"")+e;case 5495:case 3959:return E(e,/(image-set\([^]*)/,N+"$1$`$1");case 4968:return E(E(e,/(.+:)(flex-)?(.*)/,N+"box-pack:$3"+H+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+N+e+e;case 4095:case 3583:case 4068:case 2532:return E(e,/(.+)-inline(.+)/,N+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Y(e)-1-n>6)switch(j(e,n+1)){case 109:if(j(e,n+4)!==45)break;case 102:return E(e,/(.+:)(.+)-([^]+)/,"$1"+N+"$2-$3$1"+Ae+(j(e,n+3)==108?"$3":"$2-$3"))+e;case 115:return~lt(e,"stretch")?xn(E(e,"stretch","fill-available"),n)+e:e}break;case 4949:if(j(e,n+1)!==115)break;case 6444:switch(j(e,Y(e)-3-(~lt(e,"!important")&&10))){case 107:return E(e,":",":"+N)+e;case 101:return E(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+N+(j(e,14)===45?"inline-":"")+"box$3$1"+N+"$2$3$1"+H+"$2box$3")+e}break;case 5936:switch(j(e,n+11)){case 114:return N+e+H+E(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return N+e+H+E(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return N+e+H+E(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return N+e+H+e+e}return e}var so=function(n,r,t,o){if(n.length>-1&&!n.return)switch(n.type){case xt:n.return=xn(n.value,n.length);break;case mn:return le([fe(n,{value:E(n.value,"@","@"+N)})],o);case bt:if(n.length)return qr(n.props,function(i){switch(Fr(i,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return le([fe(n,{props:[E(i,/:(read-\w+)/,":"+Ae+"$1")]})],o);case"::placeholder":return le([fe(n,{props:[E(i,/:(plac\w+)/,":"+N+"input-$1")]}),fe(n,{props:[E(i,/:(plac\w+)/,":"+Ae+"$1")]}),fe(n,{props:[E(i,/:(plac\w+)/,H+"input-$1")]})],o)}return""})}},ao=[so],Sn=function(n){var r=n.key;if(r==="css"){var t=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(t,function(_){var y=_.getAttribute("data-emotion");y.indexOf(" ")!==-1&&(document.head.appendChild(_),_.setAttribute("data-s",""))})}var o=n.stylisPlugins||ao,i={},a,l=[];a=n.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),function(_){for(var y=_.getAttribute("data-emotion").split(" "),f=1;f<y.length;f++)i[y[f]]=!0;l.push(_)});var d,c=[oo,io];{var v,p=[Zr,eo(function(_){v.insert(_)})],b=Qr(c.concat(o,p)),S=function(y){return le(Kr(y),b)};d=function(y,f,u,g){v=u,S(y?y+"{"+f.styles+"}":f.styles),g&&(x.inserted[f.name]=!0)}}var x={key:r,sheet:new Ar({key:r,container:a,nonce:n.nonce,speedy:n.speedy,prepend:n.prepend,insertionPoint:n.insertionPoint}),nonce:n.nonce,inserted:i,registered:{},insert:d};return x.sheet.hydrate(l),x},lo=z.createContext(typeof HTMLElement<"u"?Sn({key:"css"}):null),co=lo.Provider;const _t=e=>e.toLowerCase().replaceAll(/[^a-z0-9-]/g,"-").replaceAll("0","-zero-").replaceAll("1","-one-").replaceAll("2","-two-").replaceAll("3","-three-").replaceAll("4","-four-").replaceAll("5","-five-").replaceAll("6","-six-").replaceAll("7","-seven-").replaceAll("8","-eight-").replaceAll("9","-nine-").replaceAll(/-+/g,"-").toLowerCase(),uo=e=>`popoutWindow-${_t(e)}`,_n=e=>{Array.from(document.styleSheets).forEach(r=>{if(r.href){const t=document.createElement("link");t.rel="stylesheet",t.href=r.href,e.appendChild(t)}else{const t=r;if(t&&t.cssRules&&t.cssRules.length>0){const o=document.createElement("style");Array.from(t.cssRules).forEach(i=>{o.appendChild(document.createTextNode(i.cssText))}),e.appendChild(o)}}})},po=e=>{const n=document.querySelector("head");if(!n)return null;const r={childList:!0},t=ir(()=>{_n(e)},100),o=function(a){for(const l of a)l.type==="childList"&&t()},i=new MutationObserver(o);return i.observe(n,r),i},ho=({title:e,size:n,setContainerElement:r,setHeadElement:t,observeStyleChanges:o=!1,className:i,position:a})=>{const l={externalWindow:null,onCloseExternalWindow:null},d=`scrollbars=no,resizable=no,status=no,location=no,toolbar=no,menubar=no,width=${n.width},height=${n.height},left=${a.x},top=${a.y}`;if(l.externalWindow=window.open("",_t(e),d),l.externalWindow){const{externalWindow:c}=l;c.document.body.style.margin="0",c.document.body.style.padding="0";const v=c.document.body?.firstChild;v&&c.document.body.removeChild(v);const p=c.document.createElement("div");p.className=`PopoutWindowContainer ${i}`,r(p),c.document.body.appendChild(p);const b=c.document.head?.firstChild;b&&c.document.head.removeChild(b);const S=c.document.createElement("div");c.document.head.appendChild(S),t(S),c.document.title=e,p.id=uo(e),_n(S);let x=null;o&&(x=po(S)),c.onbeforeunload=()=>x?.disconnect(),l.onCloseExternalWindow=()=>{c.close()}}return l},dt=({name:e,title:n=e,size:r,popInPanelPosition:t,popInPanelSize:o,observeStyleChanges:i,className:a,openExternalWindowFn:l,children:d})=>{const{setPanelWindow:c}=z.useContext(xe),[v,p]=z.useState(),[b,S]=z.useState(),x=me({uniqueId:e,panelPoppedOut:!0}),_=t,y={x:window.screenX+_.x,y:window.screenY+_.y},f=x?.panelPosition??y,u=x?.panelSize??o??r,g=Te({panelPoppedOut:!0,uniqueId:e});z.useEffect(()=>{const D=l??ho,{externalWindow:s,onCloseExternalWindow:h}=D({title:n,size:u.height==="auto"?{...u,height:400}:u,setContainerElement:p,setHeadElement:S,observeStyleChanges:i,className:a,position:f});if(!s)return;c(s);const w=()=>{s.close()},M=()=>{g({panelPosition:{x:s.screenX,y:s.screenY},panelSize:{height:s.innerHeight,width:s.innerWidth}})};return s.addEventListener("beforeunload",M),window.addEventListener("beforeunload",w,{once:!0}),()=>{h?.()}},[]);const m=Sn({key:_t(e),container:b}),P=C.jsx(co,{value:m,children:d});return v?Mn.createPortal(P,v):null};try{dt.displayName="PopoutWindow",dt.__docgenInfo={description:"",displayName:"PopoutWindow",props:{}}}catch{}const fo={width:320,height:200},ut=e=>{const n=z.useRef(null),{title:r,size:t=fo,className:o,dynamicBounds:i,children:a}=e,{dockElements:l,nextStackPosition:d}=z.useContext(ee),{panelPoppedOut:c,uniqueId:v,setTitle:p,dockId:b,docked:S}=z.useContext(xe),x=me({uniqueId:v,panelPoppedOut:!1}),_=z.useRef(n.current?.clientHeight);_.current=n.current?.clientHeight??_.current??400,z.useEffect(()=>{p(r)},[p,r]),z.useEffect(()=>{if(n.current){const w=n.current.ownerDocument;w&&(w.title=r)}},[r]);const[y,f]=z.useState(()=>{if(i){const M=i();if(M)return ae(M,["x","y"])}const w=e.position;if(x?.panelPosition)return x.panelPosition;if(w==="center"){const M=t.height==="auto"?400:t.height;return{x:Math.max((window.innerWidth-t.width)/2,0),y:Math.max((window.innerHeight-M)/2,0)}}return w!=null&&w!=="tile"?w:d()}),u=z.useCallback(w=>typeof window<"u"&&window.innerWidth&&window.innerHeight?{width:Math.min(window.document.body?.clientWidth??window.innerWidth,w.width),height:w.height==="auto"?"auto":Math.min(window.document.body?.clientHeight??window.innerHeight,w.height)}:w,[]),[g,m]=z.useState(()=>{const w=i?.();return w?ae(w,["width","height"]):x?.panelSize?u(x.panelSize):t??{width:320,height:200}}),P=z.useCallback(w=>{m(u(w))},[u]),D=z.useCallback(w=>{x?.panelSize||P(w)},[x?.panelSize,P]),s=z.useCallback(()=>{const w=i?.();if(!w)return;const M=ae(w,["x","y"]);Pt(M,y)||f(M);const k=ae(w,["width","height"]);Pt(k,g)||P(k)},[i,y,g,P]);z.useEffect(()=>(window.addEventListener("resize",s),()=>{window.removeEventListener("resize",s)}),[s]),mt(s,i?250:null);const h=S&&b&&l[b];return C.jsx(C.Fragment,{children:h&&h.isConnected?Le.createPortal(a,h):c?C.jsx(dt,{name:v,title:r,size:{width:t.width,height:_.current},popInPanelPosition:y,popInPanelSize:{width:g.width,height:g.height==="auto"?_.current:g.height},children:C.jsx("div",{ref:n,style:{display:"flex",flexDirection:"column",width:"100%",height:"100%"},className:o,children:a})}):C.jsx(at,{...e,panelPosition:y,setPanelPosition:f,panelSize:g,setPanelSize:P,setInitialPanelSize:D,children:a})})},pt=z.forwardRef(function({children:n,className:r},t){return C.jsx("div",{className:re("WindowPanel-content",r),ref:t,children:n})});try{ut.displayName="Panel",ut.__docgenInfo={description:"",displayName:"Panel",props:{}}}catch{}try{pt.displayName="PanelContent",pt.__docgenInfo={description:"",displayName:"PanelContent",props:{}}}catch{}const nn=({id:e,children:n})=>{const{setDockElement:r}=z.useContext(ee),t=o=>r(e,o);return C.jsxs("div",{className:"panelDock",children:[C.jsx("div",{ref:t,className:"panelDock-content"}),C.jsx("div",{className:"panelDock-empty",children:n})]})};try{nn.displayName="PanelDock",nn.__docgenInfo={description:"",displayName:"PanelDock",props:{}}}catch{}const Q=({"aria-label":e,href:n,icon:r,onClick:t})=>C.jsx(we,{level:"plain-text",className:"lui-button-icon-only",size:"sm",href:n,onClick:t,openInNewTab:!!n,title:e,buttonProps:{onTouchStart:t},children:C.jsx(ge,{name:r,alt:e,size:"md"})});try{Q.displayName="PanelHeaderButton",Q.__docgenInfo={description:"",displayName:"PanelHeaderButton",props:{}}}catch{}const ht=({icon:e,extraLeft:n,extraRight:r,helpUrl:t,onHelpClick:o,onDockClick:i,dockTo:a,disableClose:l,disablePopout:d})=>{const{resizeable:c}=z.useContext(wt),{panelClose:v,panelTogglePopout:p,panelPoppedOut:b,title:S,dock:x,undock:_,docked:y}=z.useContext(xe),[f,u]=z.useState("grab"),g=()=>{!b&&u("grabbing")};return C.jsxs("div",{className:re("WindowPanel-header",c&&"draggable-handle"),onMouseDown:g,onMouseUp:()=>!b&&u("grab"),style:c?{cursor:f}:{},children:[C.jsxs("div",{className:"WindowPanel-header-title",children:[e&&C.jsx(ge,{name:e,alt:"icon",size:"md",className:"WindowPanel-header-title-icon"}),S]}),n&&C.jsx("div",{className:"WindowPanel-divider-left"}),C.jsx("div",{className:"WindowPanel-children",children:n}),C.jsxs("div",{className:"WindowPanel-buttons",children:[r,(t||o)&&C.jsx(Q,{"aria-label":"Get help",href:t,onClick:o,icon:"ic_help_outline"})]}),(a||!d||!l)&&C.jsx("div",{className:"WindowPanel-divider-right"}),C.jsxs("div",{className:"WindowPanel-buttons",children:[i&&C.jsx(Q,{"aria-label":"Dock",onClick:()=>i(),icon:"ic_left_col"}),!i&&a&&(y?C.jsx(Q,{"aria-label":"Undock",onClick:_,icon:"ic_close_list"}):C.jsx(Q,{"aria-label":"Dock",onClick:()=>x(a),icon:"ic_left_col"})),!d&&C.jsx(Q,{"aria-label":b?"Pop-in":"Pop-out",onClick:p,icon:b?"ic_pop_back":"ic_launch_new window_open"}),!l&&C.jsx(Q,{"aria-label":"Close",onClick:v,icon:"ic_clear"})]})]})};try{ht.displayName="PanelHeader",ht.__docgenInfo={description:"",displayName:"PanelHeader",props:{}}}catch{}const ft=({panelInstance:e,bounds:n,children:r})=>{const{closePanel:t,bringPanelToFront:o,dockElements:i}=z.useContext(ee),[a,l]=z.useState(""),[d,c]=z.useState(),v=me({uniqueId:e.uniqueId}),[p,b]=z.useState(v?.panelPoppedOut??e.poppedOut),S=z.useCallback(()=>{e.window=null,b(!p)},[e,p]),x=z.useCallback(f=>{p&&S(),c(f)},[p,S]),_=z.useCallback(()=>c(void 0),[]),y=e.uniqueId;return C.jsx(xe.Provider,{value:{title:a,setTitle:l,uniqueId:y,bounds:n,panelName:y,panelClose:()=>{e.window?.close(),e.window=null,t(y)},panelTogglePopout:S,panelPoppedOut:p,setPanelWindow:f=>{e.window=f},bringPanelToFront:()=>o(y),zIndex:e.zIndex,docked:!p&&!!d&&!!i[d],dockId:d,dock:x,undock:_},children:r})};try{ft.displayName="PanelInstanceContextProvider",ft.__docgenInfo={description:"Provides access to closing/popping panels",displayName:"PanelInstanceContextProvider",props:{bounds:{defaultValue:null,description:"",name:"bounds",required:!0,type:{name:"string | Element | undefined"}},panelInstance:{defaultValue:null,description:"",name:"panelInstance",required:!0,type:{name:"PanelInstance"}}}}}catch{}const go={saveStateIn:"localStorage",saveStateKey:"userId"},gt=({bounds:e,baseZIndex:n=500,children:r,panelStateOptions:t,tilingStart:o={x:30,y:30},tilingOffset:i={x:30,y:50},tilingMax:a={x:200,y:300}})=>{const l=t===void 0?go:t,d=z.useRef(o),[c,v]=z.useState([]),[p,b]=z.useState({}),S=z.useCallback((m,P)=>{p[m]!==P&&b({...p,[m]:P})},[p]),x=z.useCallback(m=>{const P=c.find(D=>D.uniqueId===m);if(!P){console.warn(`bringPanelToFront cannot find panel with uniqueId: ${m}`);return}if(P.window)P.window.focus();else{if(rr(c,"zIndex")===P)return;Hn(c,s=>P===s?32768:s.zIndex).forEach((s,h)=>s.zIndex=n+h),v([...c])}},[n,c]),_=z.useCallback(({componentFn:m,poppedOut:P=!1,uniqueId:D=dn(),onClose:s})=>{try{const h=c.find(w=>w.uniqueId===D);return h?(h.window?h.window?.focus():x(D),h.uniqueId):(v([...c,{uniqueId:D,componentInstance:m(),zIndex:n+c.length,poppedOut:P,window:null,onClose:s}]),D)}catch(h){return console.error(h),null}},[n,x,c]),y=z.useCallback(m=>{const P=Xn(m);v(D=>{const[s,h]=Bn(D,w=>P.includes(w.uniqueId));return Rn(s)?D:(s.forEach(({onClose:w})=>{w?.()}),h)})},[]);mt(()=>{y(c.filter(m=>m.window?.closed).map(m=>m.uniqueId))},500);const f=z.useCallback(()=>{const m={...d.current},P={...m};return m.x+=i.x,m.y+=i.y,d.current=m.x>a.x||m.y>a.y?o:m,P},[a.x,a.y,i.x,i.y,o]),u=z.useMemo(()=>new Set(c.map(m=>m.uniqueId)),[c]),g=z.useCallback(m=>u.has(m),[u]);return C.jsxs(ee.Provider,{value:{openPanels:u,hasOpenPanel:g,openPanel:_,closePanel:y,bringPanelToFront:x,nextStackPosition:f,dockElements:p,setDockElement:S,panelStateOptions:l},children:[C.jsx(z.Fragment,{children:c.map(m=>C.jsx(ft,{panelInstance:m,bounds:e,children:m.componentInstance},m.uniqueId))},"panels"),C.jsx(z.Fragment,{children:r},"children")]})};try{gt.displayName="PanelsContextProvider",gt.__docgenInfo={description:"",displayName:"PanelsContextProvider",props:{}}}catch{}const Ie=({data:e})=>C.jsxs(ut,{title:`Panel resizing demo ${e}`,size:{width:320,height:400},className:"WindowPanel-blue",children:[C.jsx(ht,{}),C.jsx(pt,{children:C.jsx(yo,{})})]}),mo=()=>C.jsxs(C.Fragment,{children:[C.jsx(We,{buttonText:"TestPanel resizing 1",componentFn:()=>C.jsx(Ie,{data:1})})," ",C.jsx(We,{buttonText:"TestPanel resizing 2",componentFn:()=>C.jsx(Ie,{data:2})})]}),yo=()=>{const{initialResizePanel:e}=z.useContext(wt),n=z.useMemo(()=>[ue({field:"id",headerName:"Id",lockVisible:!0}),ue({field:"position",headerName:"Position",cellRendererParams:{warning:o=>o.value==="Tester"&&"Testers are testing",info:o=>o.value==="Developer"&&"Developers are awesome"}}),ue({field:"age",headerName:"Age",width:80,flex:1}),ue({field:"desc",headerName:"Description",flex:2}),Kn({headerName:"Popout message",cellRenderer:()=>C.jsx(C.Fragment,{children:"Single Click me!"}),exportable:!1},{multiEdit:!0,editorParams:{message:async o=>`There are ${o.length} row(s) selected`}}),ue({headerName:"Custom edit",editable:!0,valueFormatter:()=>"Press E",cellRendererParams:{rightHoverElement:C.jsx(qn,{icon:"ic_launch_modal",title:"Title text",className:"GridCell-editableIcon"}),editAction:o=>{alert(`Custom edit ${o.map(i=>i.id).join()} rowId(s) selected`)},shortcutKeys:{e:()=>{alert("Hi")}}}}),Fn({},{multiEdit:!0,editorParams:{options:async()=>[]}})],[]),[r,t]=z.useState(null);return z.useEffect(()=>{setTimeout(()=>{t([{id:1e3,position:"Tester",age:30,desc:"Tests application",dd:"1"},{id:1001,position:"Developer",age:12,desc:"Develops application",dd:"2"},{id:1002,position:"Manager",age:65,desc:"Manages",dd:"3"}])},2e3),setTimeout(()=>{t([{id:1e3,position:"Tester",age:30,desc:"Tests application",dd:"1"},{id:1001,position:"Developer DeveloperDeveloper DeveloperDeveloper DeveloperDeveloper DeveloperDeveloper Developer",age:12,desc:"Develops application",dd:"2"},{id:1002,position:"Manager",age:65,desc:"Manages",dd:"3"}])},5e3)},[]),C.jsx(Yn,{children:C.jsx(Vn,{children:C.jsxs($n,{children:[C.jsx(Un,{children:C.jsx(Gn,{})}),C.jsx(Ln,{columnDefs:n,rowData:r,selectable:!0,hideSelectColumn:!0,onContentSize:e,sizeColumns:"auto-skip-headers"})]})})})};try{Ie.displayName="TestPanelResizing",Ie.__docgenInfo={description:"",displayName:"TestPanelResizing",props:{data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"number"}}}}}catch{}const Eo={title:"Components/Panel",component:mo,argTypes:{backgroundColor:{control:"color"}},decorators:[e=>C.jsx("div",{children:C.jsx(gt,{baseZIndex:500,panelStateOptions:null,children:C.jsx(e,{})})})]},Ne={args:{}};Ne.parameters={...Ne.parameters,docs:{...Ne.parameters?.docs,source:{originalSource:`{
  args: {}
}`,...Ne.parameters?.docs?.source}}};const ko=["PanelResizing"];export{Ne as PanelResizing,ko as __namedExportsOrder,Eo as default};
